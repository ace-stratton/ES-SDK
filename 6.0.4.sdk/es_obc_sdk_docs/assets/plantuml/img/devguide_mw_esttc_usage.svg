<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="500px" preserveAspectRatio="none" style="width:1083px;height:500px;background:#FFFFFF;" version="1.1" viewBox="0 0 1083 500" width="1083px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="192.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="887" y="255.2266"/><rect fill="none" height="266.1328" style="stroke:#000000;stroke-width:1.5;" width="1067" x="10" y="181.8281"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="654.5" x="284" y="350.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="336" x2="336" y1="36.2969" y2="464.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="414" x2="414" y1="36.2969" y2="464.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.5" x2="891.5" y1="36.2969" y2="464.9609"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="294" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="301" y="24.9951">User code</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="294" y="463.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="301" y="483.9561">User code</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="388" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="395" y="24.9951">RTOS</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="388" y="463.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="395" y="483.9561">RTOS</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="855.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="862.5" y="24.9951">ESTTC.c</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="855.5" y="463.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="862.5" y="483.9561">ESTTC.c</text><rect fill="#FFFFFF" height="192.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="887" y="255.2266"/><polygon fill="#181818" points="880,63.4297,890,67.4297,880,71.4297,884,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="336" x2="886" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="343" y="62.3638">ESTTC_Init()</text><path d="M750,80.4297 L750,105.4297 L1034,105.4297 L1034,90.4297 L1024,80.4297 L750,80.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1024,80.4297 L1024,90.4297 L1034,90.4297 L1024,80.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="756" y="97.4966">initialize component RAM and related HW</text><polygon fill="#181818" points="880,127.6953,890,131.6953,880,135.6953,884,131.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="336" x2="886" y1="131.6953" y2="131.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="343" y="126.6294">ESTTC_InitTask()</text><path d="M806,144.6953 L806,169.6953 L977,169.6953 L977,154.6953 L967,144.6953 L806,144.6953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M967,144.6953 L967,154.6953 L977,154.6953 L967,144.6953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="812" y="161.7622">activate OS polling task</text><path d="M10,181.8281 L88,181.8281 L88,188.9609 L78,198.9609 L10,198.9609 L10,181.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.1328" style="stroke:#000000;stroke-width:1.5;" width="1067" x="10" y="181.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="194.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="141" x="103" y="194.0386">[preemptive OS task]</text><path d="M716,203.9609 L716,228.9609 L1067,228.9609 L1067,213.9609 L1057,203.9609 L716,203.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1057,203.9609 L1057,213.9609 L1067,213.9609 L1057,203.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="722" y="221.0278">all received commands are serviced by the OS task</text><polygon fill="#181818" points="875,251.2266,885,255.2266,875,259.2266,879,255.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.5" x2="881" y1="255.2266" y2="255.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="421.5" y="250.1606">ESTTC_UART_TASK()</text><path d="M20,268.2266 L20,338.2266 L331,338.2266 L331,278.2266 L321,268.2266 L20,268.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M321,268.2266 L321,278.2266 L331,278.2266 L321,268.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="26" y="285.2935">ESTTC_Notif_OnEvent() weak callback can be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="26" y="300.4263">redefined by users in case</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="26" y="315.5591">they need to know when certain ESTTC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="26" y="330.6919">events occur.</text><path d="M284,350.7578 L356,350.7578 L356,357.8906 L346,367.8906 L284,367.8906 L284,350.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="654.5" x="284" y="350.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="299" y="363.8247">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206" x="371" y="362.9683">[if new ESTTC packet received]</text><polygon fill="#181818" points="347,385.0234,337,389.0234,347,393.0234,343,389.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="341" x2="886" y1="389.0234" y2="389.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="527" x="353" y="383.9575">ESTTC_Notif_OnEvent(ESTTC_EVENT_RX_PACKET_ON_INTERFACE, &lt;interface ID&gt;)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="938.5" y1="398.0234" y2="398.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="340" x="289" y="408.2339">[if last received ESTTC packet processing finished]</text><polygon fill="#181818" points="347,428.9609,337,432.9609,347,436.9609,343,432.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="341" x2="886" y1="432.9609" y2="432.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="483" x="353" y="427.895">ESTTC_Notif_OnEvent(ESTTC_EVENT_PACKET_SERVED_OK, &lt;interface ID&gt;)</text><!--MD5=[f92b7049d2f4d41bb9704f301ea3117f]
@startuml
participant User as "User code"
participant RTOS
participant ESTTC as "ESTTC.c"

User -> ESTTC: ESTTC_Init()
note over ESTTC: initialize component RAM and related HW
User -> ESTTC: ESTTC_InitTask()
note over ESTTC: activate OS polling task
loop preemptive OS task
note over ESTTC: all received commands are serviced by the OS task
RTOS -> ESTTC: ESTTC_UART_TASK()
activate ESTTC
note left User: ESTTC_Notif_OnEvent() weak callback can be\nredefined by users in case\nthey need to know when certain ESTTC\nevents occur.
opt if new ESTTC packet received
ESTTC -> User: ESTTC_Notif_OnEvent(ESTTC_EVENT_RX_PACKET_ON_INTERFACE, <interface ID>)
else if last received ESTTC packet processing finished
ESTTC -> User: ESTTC_Notif_OnEvent(ESTTC_EVENT_PACKET_SERVED_OK, <interface ID>)
end opt
deactivate ESTTC
end loop
@enduml

PlantUML version 1.2022.13beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>