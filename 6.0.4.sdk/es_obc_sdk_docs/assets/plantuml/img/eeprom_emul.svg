<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="402px" preserveAspectRatio="none" style="width:703px;height:402px;background:#FFFFFF;" version="1.1" viewBox="0 0 703 402" width="703px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="189.6016" style="stroke:#000000;stroke-width:1.5;" width="676" x="10" y="160.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="36.2969" y2="367.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="496.5" x2="496.5" y1="36.2969" y2="367.2969"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="27" y="24.9951">User code</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="20" y="366.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="27" y="386.292">User code</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="432.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="439.5" y="24.9951">EEPROM_emul.c</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="432.5" y="366.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="439.5" y="386.292">EEPROM_emul.c</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="696" x="0" y="66.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="696" y1="66.8633" y2="66.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="696" y1="69.8633" y2="69.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="403" x="146.5" y="56.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="384" x="152.5" y="72.3638">Preconditions: STM32 HAL initialization performed</text><polygon fill="#181818" points="485,106.5625,495,110.5625,485,114.5625,489,110.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62" x2="491" y1="110.5625" y2="110.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="69" y="105.4966">EEPROM_Emul_Init()</text><path d="M416,123.5625 L416,148.5625 L578,148.5625 L578,133.5625 L568,123.5625 L416,123.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M568,123.5625 L568,133.5625 L578,133.5625 L568,123.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="422" y="140.6294">Called once at startup</text><path d="M10,160.6953 L76,160.6953 L76,167.8281 L66,177.8281 L10,177.8281 L10,160.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="189.6016" style="stroke:#000000;stroke-width:1.5;" width="676" x="10" y="160.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="25" y="173.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="91" y="172.9058">[Data read]</text><polygon fill="#181818" points="485,194.9609,495,198.9609,485,202.9609,489,198.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62" x2="491" y1="198.9609" y2="198.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="69" y="193.895">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="117" y="193.895">EEPROM_emul_DataTemp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="313" y="193.895">structure instance directly</text><path d="M317,211.9609 L317,236.9609 L676,236.9609 L676,221.9609 L666,211.9609 L317,211.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M666,211.9609 L666,221.9609 L676,221.9609 L666,211.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338" x="323" y="229.0278">This structure represents the FLASH data RAM mirror</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="686" y1="243.0938" y2="243.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="81" x="15" y="253.3042">[Data write]</text><polygon fill="#181818" points="485,274.0313,495,278.0313,485,282.0313,489,278.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62" x2="491" y1="278.0313" y2="278.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="69" y="272.9653">modify</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="118" y="272.9653">EEPROM_emul_DataTemp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="314" y="272.9653">structure instance</text><polygon fill="#181818" points="485,303.1641,495,307.1641,485,311.1641,489,307.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62" x2="491" y1="307.1641" y2="307.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="69" y="302.0981">EEPROM_Emul_SyncInfo()</text><path d="M293,320.1641 L293,345.1641 L492,345.1641 L492,330.1641 L482,320.1641 L293,320.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M482,320.1641 L482,330.1641 L492,330.1641 L482,320.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="299" y="337.231">trigger actual FLASH update</text><!--MD5=[9cefa4707075f29c1d643ca27f07de27]
@startuml
participant User as "User code"
participant EEPEmul as "EEPROM_emul.c"

== Preconditions: STM32 HAL initialization performed ==
User -> EEPEmul: EEPROM_Emul_Init()
note over EEPEmul: Called once at startup
alt Data read
User -> EEPEmul: access <b>EEPROM_emul_DataTemp</b> structure instance directly
note over EEPEmul: This structure represents the FLASH data RAM mirror
else Data write
User -> EEPEmul: modify <b>EEPROM_emul_DataTemp</b> structure instance
User -> EEPEmul: EEPROM_Emul_SyncInfo()
note left of EEPEmul: trigger actual FLASH update
end alt
@enduml

PlantUML version 1.2022.13beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>