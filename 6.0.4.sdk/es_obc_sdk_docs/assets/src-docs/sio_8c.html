<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EnduroSat On-Board Computer SDK Documentation: /builds/sw-platform-es/modules/on-boardcomputer/stm32f/obc-stdpf-hw-1.x/espf/arch/stm32h753iit/drivers/comm/slipif/src/sio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
$darkmode
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="../../index.html"><img alt="Logo" src="EnduroSat_horLogo_symbol@2x-min.png"/></a></td>
  <td id="projectalign">
   <div id="projectname">EnduroSat On-Board Computer SDK Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sio_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sio.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Serial driver implementation for the Ethernet SLIP interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="es__cdef_8h_source.html">es_cdef.h</a>&quot;</code><br />
<code>#include &quot;stm32h7xx_hal.h&quot;</code><br />
<code>#include &quot;lwip/sio.h&quot;</code><br />
<code>#include &quot;cmsis_os2.h&quot;</code><br />
<code>#include &quot;slipif_cfg.h&quot;</code><br />
<code>#include &quot;core/middlewares/external/lwIP/src/include/netif/slipif.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_task_monitor_8h_source.html">TaskMonitor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
</div>
<p><a href="sio_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0e248113f855f04a4ed736736cacad19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a0e248113f855f04a4ed736736cacad19">DMA_RX_ARM_FAILURE_EVENT</a>&#160;&#160;&#160;(0x01U)</td></tr>
<tr class="separator:a0e248113f855f04a4ed736736cacad19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a45310a82fae619610a6f352559f879f8"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a45310a82fae619610a6f352559f879f8">slip_com_recovery_task</a> (void *arg)</td></tr>
<tr class="memdesc:a45310a82fae619610a6f352559f879f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">SLIP RX recovery task.  <a href="sio_8c.html#a45310a82fae619610a6f352559f879f8">More...</a><br /></td></tr>
<tr class="separator:a45310a82fae619610a6f352559f879f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d975f1526702ba445561a92c8fd1735"><td class="memItemLeft" align="right" valign="top">STATIC bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a4d975f1526702ba445561a92c8fd1735">arm_dma_rx</a> (<a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a> *const p_descr)</td></tr>
<tr class="separator:a4d975f1526702ba445561a92c8fd1735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c0623593877fcd1edfd06206eb3e7d"><td class="memItemLeft" align="right" valign="top">STATIC <a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a37c0623593877fcd1edfd06206eb3e7d">get_sio_descr_by_uart_hnd</a> (UART_HandleTypeDef *const p_uart_hnd, uint8_t *const p_dev_num)</td></tr>
<tr class="memdesc:a37c0623593877fcd1edfd06206eb3e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an internal Serial IO decscriptor based on the registered UART instance handle pointer.  <a href="sio_8c.html#a37c0623593877fcd1edfd06206eb3e7d">More...</a><br /></td></tr>
<tr class="separator:a37c0623593877fcd1edfd06206eb3e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95564f77110cc2f3f328d948c32c9ffd"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a95564f77110cc2f3f328d948c32c9ffd">uart_error_cb</a> (UART_HandleTypeDef *p_uart)</td></tr>
<tr class="memdesc:a95564f77110cc2f3f328d948c32c9ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL UART callback executed on error.  <a href="sio_8c.html#a95564f77110cc2f3f328d948c32c9ffd">More...</a><br /></td></tr>
<tr class="separator:a95564f77110cc2f3f328d948c32c9ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db0cb6363c0f7e19f1f88e6f8b20a0a"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a0db0cb6363c0f7e19f1f88e6f8b20a0a">uart_rx_event_cb</a> (struct __UART_HandleTypeDef *p_uart, uint16_t Pos)</td></tr>
<tr class="memdesc:a0db0cb6363c0f7e19f1f88e6f8b20a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART HAL callback registered for execution upon reception of a block of data over DMA.  <a href="sio_8c.html#a0db0cb6363c0f7e19f1f88e6f8b20a0a">More...</a><br /></td></tr>
<tr class="separator:a0db0cb6363c0f7e19f1f88e6f8b20a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fbfd56ddf84ecb17b0c1d40b9ba319"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a52fbfd56ddf84ecb17b0c1d40b9ba319">uart_msp_init_cb</a> (UART_HandleTypeDef *p_uart)</td></tr>
<tr class="memdesc:a52fbfd56ddf84ecb17b0c1d40b9ba319"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART HAL callback registered for execution upon HAL_UART_Init() call.  <a href="sio_8c.html#a52fbfd56ddf84ecb17b0c1d40b9ba319">More...</a><br /></td></tr>
<tr class="separator:a52fbfd56ddf84ecb17b0c1d40b9ba319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b750133cd3c0cbac747cfbb65d65d30"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a6b750133cd3c0cbac747cfbb65d65d30">uart_msp_deinit_cb</a> (UART_HandleTypeDef *p_uart)</td></tr>
<tr class="memdesc:a6b750133cd3c0cbac747cfbb65d65d30"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART HAL callback registered for execution upon HAL_UART_Deinit() call.  <a href="sio_8c.html#a6b750133cd3c0cbac747cfbb65d65d30">More...</a><br /></td></tr>
<tr class="separator:a6b750133cd3c0cbac747cfbb65d65d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234131d97214f7602dbf5e69f64367a2"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a234131d97214f7602dbf5e69f64367a2">uart_init</a> (u8_t devnum)</td></tr>
<tr class="memdesc:a234131d97214f7602dbf5e69f64367a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SLIP UART for communication.  <a href="sio_8c.html#a234131d97214f7602dbf5e69f64367a2">More...</a><br /></td></tr>
<tr class="separator:a234131d97214f7602dbf5e69f64367a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127c33a3c36b7de915a9fe0e1223e063"><td class="memItemLeft" align="right" valign="top">sio_fd_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a127c33a3c36b7de915a9fe0e1223e063">sio_open</a> (u8_t devnum)</td></tr>
<tr class="separator:a127c33a3c36b7de915a9fe0e1223e063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c60bae2a81c07930ee504308f6a38b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a2c60bae2a81c07930ee504308f6a38b2">sio_send</a> (u8_t c, sio_fd_t fd)</td></tr>
<tr class="separator:a2c60bae2a81c07930ee504308f6a38b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5747f8d8042b712aa5219d5338bf2721"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a5747f8d8042b712aa5219d5338bf2721">sio_recv</a> (sio_fd_t fd)</td></tr>
<tr class="separator:a5747f8d8042b712aa5219d5338bf2721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a6563ee5f12459451010139a04a03b"><td class="memItemLeft" align="right" valign="top">u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#ac5a6563ee5f12459451010139a04a03b">sio_read</a> (sio_fd_t fd, u8_t *data, u32_t len)</td></tr>
<tr class="separator:ac5a6563ee5f12459451010139a04a03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3780ab1928702f82974ee66988220040"><td class="memItemLeft" align="right" valign="top">u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a3780ab1928702f82974ee66988220040">sio_tryread</a> (sio_fd_t fd, u8_t *data, u32_t len)</td></tr>
<tr class="separator:a3780ab1928702f82974ee66988220040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23df0f187d94bc56513062032289c488"><td class="memItemLeft" align="right" valign="top">u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#a23df0f187d94bc56513062032289c488">sio_write</a> (sio_fd_t fd, u8_t *data, u32_t len)</td></tr>
<tr class="separator:a23df0f187d94bc56513062032289c488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1b714fc5a4f0fa198537fa7ea48359"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#aee1b714fc5a4f0fa198537fa7ea48359">sio_read_abort</a> (sio_fd_t fd)</td></tr>
<tr class="separator:aee1b714fc5a4f0fa198537fa7ea48359"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac03a077b14be710b02deb0f0c92c2171"><td class="memItemLeft" align="right" valign="top">STATIC <a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#ac03a077b14be710b02deb0f0c92c2171">sio_descriptor</a> [1U]</td></tr>
<tr class="memdesc:ac03a077b14be710b02deb0f0c92c2171"><td class="mdescLeft">&#160;</td><td class="mdescRight">SLIP interface descriptors list.  <a href="sio_8c.html#ac03a077b14be710b02deb0f0c92c2171">More...</a><br /></td></tr>
<tr class="separator:ac03a077b14be710b02deb0f0c92c2171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac446e3c145ea9628f6cbd6c671a7d942"><td class="memItemLeft" align="right" valign="top">STATIC const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sio_8c.html#ac446e3c145ea9628f6cbd6c671a7d942">slip_com_mon_task_attr</a></td></tr>
<tr class="separator:ac446e3c145ea9628f6cbd6c671a7d942"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Serial driver implementation for the Ethernet SLIP interface. </p>
<p >Rx operation is performed via DMA, while Tx operation is using blocking transmit HAL calls for efficiency since this is actually how the SIO interface expects the operation to be performed in the netw context. This is also how maximum throughput is achieved avoiding unnecessary task context switches as the transmission occurs directly in the calling TCP/IP task. Short timeouts are provided to ensure the calling task will not block indefinitely, hence breaking other TCP/IP operations. </p>

<p class="definition">Definition in file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0e248113f855f04a4ed736736cacad19" name="a0e248113f855f04a4ed736736cacad19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e248113f855f04a4ed736736cacad19">&#9670;&nbsp;</a></span>DMA_RX_ARM_FAILURE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMA_RX_ARM_FAILURE_EVENT&#160;&#160;&#160;(0x01U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00031">31</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a45310a82fae619610a6f352559f879f8" name="a45310a82fae619610a6f352559f879f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45310a82fae619610a6f352559f879f8">&#9670;&nbsp;</a></span>slip_com_recovery_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void slip_com_recovery_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SLIP RX recovery task. </p>
<p >The task is responsible to recover DMA operation in case of HAL driver issue. DMA reception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>represents the device ID for the SLIP interface to recover </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00549">549</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a4d975f1526702ba445561a92c8fd1735" name="a4d975f1526702ba445561a92c8fd1735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d975f1526702ba445561a92c8fd1735">&#9670;&nbsp;</a></span>arm_dma_rx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC bool arm_dma_rx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a> *const&#160;</td>
          <td class="paramname"><em>p_descr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00075">75</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a37c0623593877fcd1edfd06206eb3e7d" name="a37c0623593877fcd1edfd06206eb3e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c0623593877fcd1edfd06206eb3e7d">&#9670;&nbsp;</a></span>get_sio_descr_by_uart_hnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">STATIC <a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a> * get_sio_descr_by_uart_hnd </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *const&#160;</td>
          <td class="paramname"><em>p_uart_hnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dev_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an internal Serial IO decscriptor based on the registered UART instance handle pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_uart_hnd</td><td>UART instance handle pointer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_dev_num</td><td>internal SLIP device ID corresponding to the provided p_uart_hnd </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00126">126</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a95564f77110cc2f3f328d948c32c9ffd" name="a95564f77110cc2f3f328d948c32c9ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95564f77110cc2f3f328d948c32c9ffd">&#9670;&nbsp;</a></span>uart_error_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void uart_error_cb </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>p_uart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HAL UART callback executed on error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_uart</td><td>UART instance handle pointer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00151">151</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a0db0cb6363c0f7e19f1f88e6f8b20a0a" name="a0db0cb6363c0f7e19f1f88e6f8b20a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db0cb6363c0f7e19f1f88e6f8b20a0a">&#9670;&nbsp;</a></span>uart_rx_event_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void uart_rx_event_cb </td>
          <td>(</td>
          <td class="paramtype">struct __UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>p_uart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART HAL callback registered for execution upon reception of a block of data over DMA. </p>
<p >The callback runs when the UART detects a bus IDLE condition, providing the data that was captured before the bus IDLE event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_uart</td><td>UART handle instance pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Pos</td><td>byte position in the pre-assigned DMA Rx buffer of the last received byte</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The callback ensures that DMA reception starts all over after reading the data and feeding it to the Ethernet stack via a call to slipif_received_bytes(). </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00181">181</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a52fbfd56ddf84ecb17b0c1d40b9ba319" name="a52fbfd56ddf84ecb17b0c1d40b9ba319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fbfd56ddf84ecb17b0c1d40b9ba319">&#9670;&nbsp;</a></span>uart_msp_init_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void uart_msp_init_cb </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>p_uart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART HAL callback registered for execution upon HAL_UART_Init() call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_uart</td><td>UART handle instance pointer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00210">210</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a6b750133cd3c0cbac747cfbb65d65d30" name="a6b750133cd3c0cbac747cfbb65d65d30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b750133cd3c0cbac747cfbb65d65d30">&#9670;&nbsp;</a></span>uart_msp_deinit_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void uart_msp_deinit_cb </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>p_uart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART HAL callback registered for execution upon HAL_UART_Deinit() call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_uart</td><td>UART handle instance pointer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00262">262</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a234131d97214f7602dbf5e69f64367a2" name="a234131d97214f7602dbf5e69f64367a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234131d97214f7602dbf5e69f64367a2">&#9670;&nbsp;</a></span>uart_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void uart_init </td>
          <td>(</td>
          <td class="paramtype">u8_t&#160;</td>
          <td class="paramname"><em>devnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the SLIP UART for communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devnum</td><td>SLIP device ID </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00289">289</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a127c33a3c36b7de915a9fe0e1223e063" name="a127c33a3c36b7de915a9fe0e1223e063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127c33a3c36b7de915a9fe0e1223e063">&#9670;&nbsp;</a></span>sio_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sio_fd_t sio_open </td>
          <td>(</td>
          <td class="paramtype">u8_t&#160;</td>
          <td class="paramname"><em>devnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Opens a serial device for communication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devnum</td><td>device number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>handle to serial device if successful, NULL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00373">373</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a2c60bae2a81c07930ee504308f6a38b2" name="a2c60bae2a81c07930ee504308f6a38b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c60bae2a81c07930ee504308f6a38b2">&#9670;&nbsp;</a></span>sio_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sio_send </td>
          <td>(</td>
          <td class="paramtype">u8_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sends a single character to the serial device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>character to send </td></tr>
    <tr><td class="paramname">fd</td><td>serial device handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will block until the character can be sent. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00418">418</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a5747f8d8042b712aa5219d5338bf2721" name="a5747f8d8042b712aa5219d5338bf2721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5747f8d8042b712aa5219d5338bf2721">&#9670;&nbsp;</a></span>sio_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t sio_recv </td>
          <td>(</td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Receives a single character from the serial device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>serial device handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will block until a character is received. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00430">430</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="ac5a6563ee5f12459451010139a04a03b" name="ac5a6563ee5f12459451010139a04a03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a6563ee5f12459451010139a04a03b">&#9670;&nbsp;</a></span>sio_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32_t sio_read </td>
          <td>(</td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reads from the serial device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>serial device handle </td></tr>
    <tr><td class="paramname">data</td><td>pointer to data buffer for receiving </td></tr>
    <tr><td class="paramname">len</td><td>maximum length (in bytes) of data to receive </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes actually received - may be 0 if aborted by sio_read_abort</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function is not implemented because reception is performed via DMA through the <a class="el" href="sio_8c.html#a0db0cb6363c0f7e19f1f88e6f8b20a0a">uart_rx_event_cb()</a> function called by the UART HAL callback mechanism. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00456">456</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a3780ab1928702f82974ee66988220040" name="a3780ab1928702f82974ee66988220040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3780ab1928702f82974ee66988220040">&#9670;&nbsp;</a></span>sio_tryread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32_t sio_tryread </td>
          <td>(</td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Tries to read from the serial device. Same as sio_read but returns immediately if no data is available and never blocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>serial device handle </td></tr>
    <tr><td class="paramname">data</td><td>pointer to data buffer for receiving </td></tr>
    <tr><td class="paramname">len</td><td>maximum length (in bytes) of data to receive </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes actually received </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00476">476</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="a23df0f187d94bc56513062032289c488" name="a23df0f187d94bc56513062032289c488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23df0f187d94bc56513062032289c488">&#9670;&nbsp;</a></span>sio_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32_t sio_write </td>
          <td>(</td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Writes to the serial device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>serial device handle </td></tr>
    <tr><td class="paramname">data</td><td>pointer to data to send </td></tr>
    <tr><td class="paramname">len</td><td>length (in bytes) of data to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes actually sent</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will block until all data can be sent. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00497">497</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="aee1b714fc5a4f0fa198537fa7ea48359" name="aee1b714fc5a4f0fa198537fa7ea48359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1b714fc5a4f0fa198537fa7ea48359">&#9670;&nbsp;</a></span>sio_read_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sio_read_abort </td>
          <td>(</td>
          <td class="paramtype">sio_fd_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Aborts a blocking <a class="el" href="sio_8c.html#ac5a6563ee5f12459451010139a04a03b">sio_read()</a> call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>serial device handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00528">528</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac03a077b14be710b02deb0f0c92c2171" name="ac03a077b14be710b02deb0f0c92c2171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac03a077b14be710b02deb0f0c92c2171">&#9670;&nbsp;</a></span>sio_descriptor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC <a class="el" href="structsio__descriptor__t.html">sio_descriptor_t</a> sio_descriptor[1U]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        .init_finished = <span class="keyword">false</span>,</div>
<div class="line">        .p_slip_cfg = NULL,</div>
<div class="line">        .dma_rx_buf = { 0 },</div>
<div class="line">        .p_slipif_net_cfg = NULL,</div>
<div class="line">        .com_monitor_task_id = NULL</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SLIP interface descriptors list. </p>

<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00044">44</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
<a id="ac446e3c145ea9628f6cbd6c671a7d942" name="ac446e3c145ea9628f6cbd6c671a7d942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac446e3c145ea9628f6cbd6c671a7d942">&#9670;&nbsp;</a></span>slip_com_mon_task_attr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC const osThreadAttr_t slip_com_mon_task_attr</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .attr_bits = osThreadDetached,</div>
<div class="line">    .name      = <span class="stringliteral">&quot;slip_com_monitor_task&quot;</span>,</div>
<div class="line">    .priority  = osPriorityAboveNormal,</div>
<div class="line">    .cb_mem    = NULL,</div>
<div class="line">    .cb_size   = 0U,</div>
<div class="line">    .stack_mem = NULL,</div>
<div class="line">    .stack_size = 500U</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sio_8c_source.html#l00055">55</a> of file <a class="el" href="sio_8c_source.html">sio.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e2c83a6801e015e427e1c55223a130e1.html">espf</a></li><li class="navelem"><a class="el" href="dir_fcfc280b4a58f23eed822bf288a8446c.html">arch</a></li><li class="navelem"><a class="el" href="dir_8adb82b479c38de9d719c12d0c801662.html">stm32h753iit</a></li><li class="navelem"><a class="el" href="dir_ffcb362f5510f26034fa76772c59c5d9.html">drivers</a></li><li class="navelem"><a class="el" href="dir_a28b6c9548c7b088e1a5b3762381f2c1.html">comm</a></li><li class="navelem"><a class="el" href="dir_1ceee19374187c3659e3297762628bd3.html">slipif</a></li><li class="navelem"><a class="el" href="dir_fb74e98bf8e17e3ed3a9e68b622db5c7.html">src</a></li><li class="navelem"><a class="el" href="sio_8c.html">sio.c</a></li>
    <li class="footer">Generated by Doxygen 1.9.4 </li>
  </ul>
</div>
</body>
</html>
