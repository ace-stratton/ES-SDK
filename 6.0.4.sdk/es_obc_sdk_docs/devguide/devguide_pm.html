
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://endurosat.com/devguide/devguide_pm.html">
      
      
        <link rel="prev" href="devguide_operations_guide.html">
      
      
        <link rel="next" href="devguide_eth.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Performance monitor - EnduroSat On-Board Computer SDK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-header__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EnduroSat On-Board Computer SDK Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Performance monitor
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
    
  
  Quick-start Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="hldesign.html" class="md-tabs__link">
          
  
  Developer's Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../assets/src-docs/index.html" class="md-tabs__link">
        
  
    
  
  Code Reference

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../reference_docs.html" class="md-tabs__link">
        
  
    
  
  Reference documents

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../change_history.html" class="md-tabs__link">
        
  
    
  
  Change history

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../contacts.html" class="md-tabs__link">
        
  
    
  
  Contacts

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-nav__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    EnduroSat On-Board Computer SDK Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick-start Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer's Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hldesign.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High-Level Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_dirstructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Directory structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_cmake.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OBC configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            OBC configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_buildcfg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build-time configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_sysconfig.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run-time configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development recipes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Development recipes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_newcomp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the SDK with new components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_esps_cmd_extend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the set of OBC supported commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_fwupd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootloader and firmware updates handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_debugtrace.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug and trace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_assertions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assertions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_datacache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_telemetry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telemetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_micropython.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MicroPython
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_es_adcs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EnduroSat ADCS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_10" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5_10" id="__nav_3_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5_10">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_conops.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concept of Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_user_payloads.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Payloads
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_aocs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attitude and Orbit Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_payload_scheduler.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payload Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_cubeadcs_gen2_service.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CubeADCS Gen2 Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_operations_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operations Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Performance monitor
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="devguide_pm.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Performance monitor
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-of-data" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation of data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-capability" class="md-nav__link">
    <span class="md-ellipsis">
      Logging capability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types-offset-and-skipping-samples" class="md-nav__link">
    <span class="md-ellipsis">
      Data types, offset and skipping samples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-user-specified-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring user-specified parameters
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Connectivity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Connectivity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_eth.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethernet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/src-docs/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference_docs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference documents
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../change_history.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change history
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contacts
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Performance monitor</h1>

<h2 id="overview">Overview</h2>
<p>The <strong>Performance monitor</strong> is a sub-function of the <a href="devguide_aocs.html"><abbr title="Attitude and Orbit Control System">AOCS</abbr></a> service, and it is composed of the files listed below. It has the task to analyze a user-specified telemetry (Attitude angles, rates, estimator convergence parameters, temperature...), and give metrics that encode the behavior of said telemetry. The utility of this sub-function is the ability to gain an averaged estimate of the behavior of the telemetry of interest over a long and short time span, without needing to download telemetry logs to the ground.</p>
<ul>
<li>espf\core\services\aocs\aocs_cntrl\src\aocs_pm.c</li>
<li>espf\core\services\aocs\aocs_cntrl\inc\aocs_pm.h</li>
<li>espf\core\services\aocs\aocs_cntrl\inc\aocs_pm_types.h</li>
<li>espf\config\aocs\aocs_cntrl\aocs_pm_cfg.h</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Currently the <abbr title="Performance monitor">PM</abbr> is integrated with CubeAdcs gen 1 but will be extended to all supported hardware (CubeAdcs gen 2, <a href="devguide_es_adcs.html"><abbr title="EnduroSat">ES</abbr> <abbr title="Attitude Determination and Control System">ADCS</abbr></a> ).</p>
</div>
<h2 id="evaluation-of-data">Evaluation of data</h2>
<p>The <abbr title="Performance monitor">PM</abbr> works by storing the measurements of a given variable over the last 128 minutes in a FIFO buffer. On each execution, the <abbr title="Performance monitor">PM</abbr> evaluates two metrics:</p>
<ul>
<li>a long-term (128 min) performance metric.</li>
<li>a short-term (8 minute) one.</li>
</ul>
<p>The evaluation of the metrics is done by comparing the value of the variable against a reference value (referred to as an offset), with a configurable allowable range around the reference (called threshold values). The threshold values have a user configurable safety factor associated with them, which functions as a hysteresis around the threshold (it is expressed as a percentage value of the threshold value).</p>
<p>The definition of the long-term metric is: The fractional time (of 128 minutes) that the variable in question has remained within the given threshold levels around the reference value, for at least 8 minutes. The <abbr title="Performance monitor">PM</abbr> outputs this value as a percentage.</p>
<div class="arithmatex">\[
\operatorname{long-term metric} = \dfrac{s}{T} * 100
\]</div>
<p>Where:
T - period of 128 minutes; s - time that the variable stayed within the allowable range for at least 8 minutes, it is calculated as follows:</p>
<p>Let <span class="arithmatex">\(t_0\)</span> be the time that the variable enters the allowable range, then at any time <span class="arithmatex">\(t&gt;t_0\)</span>
    \begin{equation}
        s = \begin{cases}
&amp;0,\quad \text{if}\quad t - t_0 &lt; 8 \min\\
&amp;t - t_0 - 8 \min,\quad \text{if} \quad t-t_0 &gt; 8\min
        \end{cases}
    \end{equation}</p>
<p>To complement the long-term metric, the short-term metric utilizes the FIFO buffer to give an averaged "history" of the variable in question. The 128 minute interval is split into 16 sub-intervals of 8 minutes each (referred to as short-term metrics). The <abbr title="Performance monitor">PM</abbr> will output a uint16 number, where each bit represents whether the variable in question has continuously remained within the threshold levels around the offset for the duration of the last sub-interval (8 minutes) corresponding to the bit.</p>
<p>In the diagram below there is an example of monitoring the Roll angle. The sub-intervals of 8 minutes are separated with black lines, for the first part of the diagram the encoded value will be b0011111111011111, the vertical red lines indicate separate long-term periods.</p>
<p><center><a class="glightbox" href="../assets/img/PM_graph.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="PM_roll_graph" src="../assets/img/PM_graph.png" /></a></center></p>
<p>The upper and lower thresholds have a hysteresis associated with them, in order to prevent "noise" in the <abbr title="Performance monitor">PM</abbr> output, when the monitored variable oscillates around their value. It is controlled via the "safety factor" variable, which is represented as a fraction of the user-specified threshold value. </p>
<p>This effectively modifies the threshold levels as: <span class="arithmatex">\(T \rightarrow T_{u / l} = \alpha_{u / l}  T\)</span>, where <span class="arithmatex">\(T\)</span> is the user-specified threshold value and <span class="arithmatex">\(\alpha_{u/l}\)</span> are two coefficients, which are initialized to 1. The labels <span class="arithmatex">\(u / l\)</span> stand for the "upper" and "lower" thresholds. Then at any point in time after initialization, the value of <span class="arithmatex">\(\alpha_{u/l}\)</span> is calculated as follows (let <span class="arithmatex">\(x\)</span> be the variable being monitored):</p>
<div class="arithmatex">\[\begin{equation}
    \alpha_u = \begin{cases}
&amp;1 - \text{safety},\quad \text{if}\quad x &gt; \text{offset} + \alpha_u T\\
&amp;1 + \text{safety},\quad \text{if}\quad x &lt; \text{offset} + \alpha_u T\\
    \end{cases}
\end{equation}\]</div>
<div class="arithmatex">\[\begin{equation}
    \alpha_l = \begin{cases}
&amp;1 - \text{safety},\quad \text{if}\quad x &lt; \text{offset} + \alpha_l T\\
&amp;1 + \text{safety},\quad \text{if}\quad x &gt; \text{offset} + \alpha_l T\\
    \end{cases}
\end{equation}\]</div>
<h2 id="logging-capability">Logging capability</h2>
<p>The <abbr title="Performance monitor">PM</abbr> is designed to facilitate the logging of monitored parameters and the collection of critical metrics, which serve as invaluable tools for gaining insights into the operational status of your <abbr title="Attitude Determination and Control System">ADCS</abbr> system. Whenever the <abbr title="Attitude Determination and Control System">ADCS</abbr> engages in target tracking, an automatic logging process is initiated (this feature is inherently enabled and cannot be deactivated or turned off). This is done to ensure thorough monitoring of <abbr title="Attitude Determination and Control System">ADCS</abbr> activities during target tracking, as it is imperative to closely observe its operations during this phase. Manually initiating the logging process is straightforward; you simply need to execute the <code>OBC_AOCS_CNTRL.fidl::startLogging</code> command from the <code>core/fidl/obc/fp/OBC_AOCS_CNTRL.fidl</code> interface. Specify the desired duration for logging in seconds, and the system will proceed accordingly. After this period, you will find a file named <code>/sd/AOCS_PM.TXT</code> on the <abbr title="On-board Computer">OBC</abbr>'s <abbr title="Secure Digital (a flash memory card format)">SD</abbr> card, containing the logged data. The file contains data organized in columns, and these columns are separated by commas. The fields within these columns include the following information:</p>
<ul>
<li>Unix timestamp - timestamp</li>
<li>dT - sample rate in seconds</li>
</ul>
<p>The subsequent fields are replicated three times for each variable</p>
<ul>
<li>Short-term metric - this metric serves as an indicator of data stability for the current sample. A value of <code>1</code> denotes acceptable performance, based on the user-configured offsets and thresholds, while <code>0</code> signifies unacceptable performance</li>
<li>Data - the specific values that are being monitored and observed as part of the process</li>
<li>Long-term metric - the fractional time (of 128 minutes) that the variable in question has remained within the given threshold levels given in percentage</li>
<li>Encoded history - 16-bit number, where each bit represents the short-term metric</li>
<li>Offset - this is the reference value that the actual value is compared to</li>
<li>Stable time - stable uninterrupted time that the parameter is within the thresholds, measured in seconds</li>
</ul>
<p>Here is an example of how the file looks:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>date, time, dt,short term metric, data, long term metric, enc history, offset, stable time,short term metric, data, long term metric, enc history, offset, stable time,short term metric, data, long term metric, enc history, offset, stable time 
946686685,4.2,0,9.17,0,0,0,0,0,-0.34,0,0,0,4,0,-0.15,0,0,0,4,
946686698,3.84,0,9.06,0,0,0,0,0,0.11,0,0,0,8,0,-0.08,0,0,0,8,
946686711,3.95,0,8.81,0,0,0,0,0,2.06,0,0,0,12,0,0.15,0,0,0,12,
946686724,4.13,0,8.69,0,0,0,0,0,3.58,0,0,0,16,0,0.34,0,0,0,16,
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The date and time cells in the header should be merged that way they will correspond to the unix timestamp field!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When initiating a new logging session, the <abbr title="Performance monitor">PM</abbr> appends the data to the already existing file, this is done to ensure that no data is lost.</p>
</div>
<p>A safety feature has been implemented to restrict the maximum logging time, and this can be customized using the command <code>OBC_AOCS_CNTRL.fidl::setMaxTimeForAutoLogging</code>. Once this predefined time duration elapses, automatic logging will cease, unless manually started or if the satellite initiates target tracking.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The presence of the value 123456.98 in the data field within the log indicates a communication disruption, signifying that the <abbr title="Performance monitor">PM</abbr> did not receive valid data at that point.</p>
</div>
<h2 id="data-types-offset-and-skipping-samples">Data types, offset and skipping samples</h2>
<p>Types of the data the <abbr title="Performance monitor">PM</abbr> can monitor:</p>
<ul>
<li>EST_ATT_ANGL - estimated attitude angles</li>
<li>EST_ANG_RATES - estimated angular rates</li>
<li>MEAS_MAG_FIELD_VEC - measured magnetic field vector</li>
<li>EST_INNOVATION_VEC - estimated innovation matrix</li>
<li>Q_ERR_VEC - quaternion error vector  </li>
<li>MAG_MCU_TEMP - magnetometer and <abbr title="MicroController Unit">MCU</abbr> temperature</li>
<li>RATE_SENS_TEMP - rate sensor temperature</li>
<li>RATE_CONVERGENCE - rate convergence</li>
</ul>
<p>What type of data is monitored can be changed with the command <code>OBC_AOCS_CNTRL.fidl::setDataTypeForAssessment</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Changing the monitored type resets the statistics accumulated by the <abbr title="Performance monitor">PM</abbr>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During the monitoring of <strong>Estimated Attitude Angles</strong>, the <abbr title="Performance monitor">PM</abbr> is designed to identify the commanded attitude angles and employ them as reference values (offsets).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When monitoring <strong>Estimated angular rates</strong> and the system state of the <abbr title="Attitude Determination and Control System">ADCS</abbr> is either <code>AOCS_CNTRL_SYS_STATE_Y_THOMSON_MEMS_RATE</code> or <code>AOCS_CNTRL_SYS_STATE_Y_THOMSON</code> there is a constant offset of 1 deg/sec on the Y-axes (Y-Thomson algorithm is a detumbling procedure that initializes the satellite to spin at a constant rate of 1 deg/per second specifically along the Y-axis).</p>
</div>
<p>The monitor incorporates a built-in functionality to skip data samples during satellite maneuvers or when unreliable data is received. Sample skipping repeats the most recent data point. The quantity of samples to be skipped can be configured using the command <code>OBC_AOCS_CNTRL.fidl::setSamplesToSkip</code>.</p>
<h2 id="configuration">Configuration</h2>
<p>The interface file <code>OBC_AOCS_CNTRL.fidl</code> serves as the means to interact with the <abbr title="Performance monitor">PM</abbr>. It enables both the reading of output data and the configuration of various parameters. Additionally, it allows logging of specific <abbr title="Performance monitor">PM</abbr> algorithm data.</p>
<p>For clarity, here is a summary of the commands that configure various parameters:</p>
<ul>
<li><code>OBC_AOCS_CNTRL.fidl::setMaxTimeForAutoLogging</code> - Configures the maximum logging time for automatic logging.</li>
<li><code>OBC_AOCS_CNTRL.fidl::setSamplesToSkip</code> - Sets the number of samples to skip during maneuvers or when dealing with unreliable data.</li>
<li><code>OBC_AOCS_CNTRL.fidl::setDataTypeForAssessment</code> - changes the type of data that is being monitored ( this will reset the statistics that the <abbr title="Performance monitor">PM</abbr> accumulates).</li>
<li><code>OBC_AOCS_CNTRL.fidl::setThresholdLevels</code> - changes the allowable range around the reference.</li>
<li><code>OBC_AOCS_CNTRL.fidl::setUpdateInterval</code> changes the sample rate in seconds.</li>
</ul>
<h2 id="monitoring-user-specified-parameters">Monitoring user-specified parameters</h2>
<p>To enable users to incorporate their own data types for monitoring, the initial step is to extend the enum for data types. Here's how you can do that:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">EST_ATT_ANGL</span><span class="p">,</span>
<span class="w">    </span><span class="n">EST_ANG_RATES</span><span class="p">,</span>
<span class="w">    </span><span class="n">MEAS_MAG_FIELD_VEC</span><span class="p">,</span>
<span class="w">    </span><span class="n">EST_INNOVATION_VEC</span><span class="p">,</span>
<span class="w">    </span><span class="n">Q_ERR_VEC</span><span class="p">,</span>
<span class="w">    </span><span class="n">MAG_MCU_TEMP</span><span class="p">,</span>
<span class="w">    </span><span class="n">RATE_SENS_TEMP</span><span class="p">,</span>
<span class="w">    </span><span class="n">RATE_CONVERGENCE</span><span class="p">,</span>
<span class="w">    </span><span class="n">USR_DATA</span>
<span class="p">}</span><span class="n">aocs_log_data_types_t</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Subsequently, you will need to develop custom logic for data retrieval. This can be accomplished by extending the switch case in the <code>espf/config/aocs/aocs_cntrl/aocs_cntrl_cubeadcs_int.c</code> file, specifically within the <code>aocs_cntrl_cubeadcs_int_get_log_data</code> function. Below is a concise example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">STATIC</span><span class="w"> </span><span class="n">aocs_cntrl_res_t</span><span class="w"> </span><span class="n">aocs_cntrl_cubeadcs_int_get_log_data</span><span class="p">(</span><span class="n">aocs_cntrl_log_data_t</span><span class="w"> </span><span class="o">*</span><span class="n">p_log_data</span><span class="p">,</span><span class="w"> </span><span class="n">aocs_log_data_types_t</span><span class="w"> </span><span class="n">data_type</span><span class="p">,</span><span class="w"> </span><span class="n">aocs_cntrl_offset_t</span><span class="o">*</span><span class="w"> </span><span class="n">p_offset_values</span><span class="p">)</span>
<span class="p">{</span>

<span class="w">    </span><span class="n">DATA_CACHE_USER_DATA_t</span><span class="w"> </span><span class="n">user_data</span><span class="p">;</span>
<span class="w">    </span><span class="n">DATA_CACHE_USER_DATA_t</span><span class="w"> </span><span class="n">user_data_offset</span><span class="p">;</span>

<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">USR_DATA</span><span class="p">:</span>
<span class="w">            </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dc_get_user_data</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user_data</span><span class="p">);</span>

<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_OK</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data</span><span class="p">.</span><span class="n">value_1</span><span class="p">;</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data</span><span class="p">.</span><span class="n">value_2</span><span class="p">;</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data</span><span class="p">.</span><span class="n">value_3</span><span class="p">;</span>
<span class="w">                </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_OK</span><span class="p">;</span>

<span class="w">                </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DC_DATA_STATUS_TOUT</span><span class="p">;</span>
<span class="w">                </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dc_get_user_data</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user_data_offset</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// if you want to use data for reference value when evaluating if you don&#39;t have such a value just put 0 </span>
<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_OK</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data_offset</span><span class="p">.</span><span class="n">value_1</span><span class="p">;</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data_offset</span><span class="p">.</span><span class="n">value_2</span><span class="p">;</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data_offset</span><span class="p">.</span><span class="n">value_3</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_TOUT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_TOUT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It would be easier if the data that you want to monitor is in the <a href="devguide_datacache.html">datacache</a>, that way the implementation becomes much more straightforward.</p>
</div>
<p>The final step in this process is to update the <code>OBC_AOCS_CNTRL.fidl</code> enumeration to include the new data type. This ensures that the user-defined data can be effectively interfaced with the <abbr title="Performance monitor">PM</abbr>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code>enumeration logDataTypes
{
    EST_ATT_ANGL,
    EST_ANG_RATES,
    MEAS_MAG_FIELD_VEC,
    EST_INNOVATION_VEC,
    Q_ERR_VEC,
    MAG_MCU_TEMP,
    RATE_SENS_TEMP,
    RATE_CONVERGENCE,
    USR_DATA
}
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To monitor fewer than three values of a parameter in the <abbr title="Performance monitor">PM</abbr>, you should populate the empty slots in the <em>/espf/config/aocs/aocs_cntrl/aocs_cntrl_cubeadcs_int.c</em> file with dummy parameters, setting them to 0. This ensures that the <abbr title="Performance monitor">PM</abbr> operates correctly even when monitoring less than the full complement of parameters. We can revisit the example and make the necessary modifications to monitor only the first value. Here's how you can do it:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">STATIC</span><span class="w"> </span><span class="n">aocs_cntrl_res_t</span><span class="w"> </span><span class="n">aocs_cntrl_cubeadcs_int_get_log_data</span><span class="p">(</span><span class="n">aocs_cntrl_log_data_t</span><span class="w"> </span><span class="o">*</span><span class="n">p_log_data</span><span class="p">,</span><span class="w"> </span><span class="n">aocs_log_data_types_t</span><span class="w"> </span><span class="n">data_type</span><span class="p">,</span><span class="w"> </span><span class="n">aocs_cntrl_offset_t</span><span class="o">*</span><span class="w"> </span><span class="n">p_offset_values</span><span class="p">)</span>
<span class="p">{</span>

<span class="w">    </span><span class="n">DBG_ASSERT</span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">p_log_data</span><span class="p">);</span>
<span class="w">    </span><span class="n">DBG_ASSERT</span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">p_offset_values</span><span class="p">);</span>

<span class="w">    </span><span class="n">aocs_cntrl_res_t</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">    </span><span class="n">dc_data_status_t</span><span class="w"> </span><span class="n">dc_status</span><span class="p">;</span>
<span class="w">    </span><span class="n">DATA_CACHE_USER_DATA_t</span><span class="w"> </span><span class="n">user_data</span><span class="p">;</span>
<span class="w">    </span><span class="n">DATA_CACHE_USER_DATA_t</span><span class="w"> </span><span class="n">user_data_offset</span><span class="p">;</span>

<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">USR_DATA</span><span class="p">:</span>
<span class="w">            </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dc_get_user_data</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user_data</span><span class="p">);</span>

<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_OK</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data</span><span class="p">.</span><span class="n">value_1</span><span class="p">;</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">p_log_data</span><span class="o">-&gt;</span><span class="n">value3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_OK</span><span class="p">;</span>

<span class="w">                </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DC_DATA_STATUS_TOUT</span><span class="p">;</span>
<span class="w">                </span><span class="n">dc_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dc_get_user_data</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user_data_offset</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// if you want to use data for reference value when evaluating if you don&#39;t have such a value just put 0 </span>
<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_OK</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">user_data_offset</span><span class="p">.</span><span class="n">value_1</span><span class="p">;</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">p_offset_values</span><span class="o">-&gt;</span><span class="n">offset_value</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_TOUT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">DC_DATA_STATUS_TOUT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dc_status</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AOCS_CNTRL_FAILED</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="footer.title">
      
        
        <a href="devguide_operations_guide.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Operations Guide" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Operations Guide
            </div>
          </div>
        </a>
      
      
        
        <a href="devguide_eth.html" class="md-footer__link md-footer__link--next" aria-label="Next: Ethernet" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Ethernet
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <i>Privileged and confidential</i>
          </div>
        
      </div>
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.linkedin.com/company/endurosat/" target="_blank" rel="noopener" title="EnduroSat on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "search.suggest", "search.highlight", "search.share", "navigation.tabs", "navigation.top", "toc.integrate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    


    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>