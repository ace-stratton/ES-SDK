
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://endurosat.com/devguide/devguide_aocs.html">
      
      
        <link rel="prev" href="devguide_user_payloads.html">
      
      
        <link rel="next" href="devguide_payload_scheduler.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Attitude and Orbit Control - EnduroSat On-Board Computer SDK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-header__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EnduroSat On-Board Computer SDK Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Attitude and Orbit Control
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
    
  
  Quick-start Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="hldesign.html" class="md-tabs__link">
          
  
  Developer's Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../assets/src-docs/index.html" class="md-tabs__link">
        
  
    
  
  Code Reference

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../reference_docs.html" class="md-tabs__link">
        
  
    
  
  Reference documents

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../change_history.html" class="md-tabs__link">
        
  
    
  
  Change history

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../contacts.html" class="md-tabs__link">
        
  
    
  
  Contacts

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-nav__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    EnduroSat On-Board Computer SDK Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick-start Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer's Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hldesign.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High-Level Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_dirstructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Directory structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_cmake.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OBC configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            OBC configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_buildcfg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build-time configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_sysconfig.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run-time configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development recipes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Development recipes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_newcomp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the SDK with new components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_esps_cmd_extend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the set of OBC supported commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_fwupd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootloader and firmware updates handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_debugtrace.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug and trace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_assertions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assertions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_datacache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_telemetry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telemetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_micropython.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MicroPython
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_es_adcs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EnduroSat ADCS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_10" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5_10" id="__nav_3_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5_10">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_conops.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concept of Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_user_payloads.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Payloads
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Attitude and Orbit Control
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="devguide_aocs.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Attitude and Orbit Control
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      General sequence
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aocs-state" class="md-nav__link">
    <span class="md-ellipsis">
      AOCS state
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requesting-aocs-state" class="md-nav__link">
    <span class="md-ellipsis">
      Requesting AOCS state
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_payload_scheduler.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payload Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_cubeadcs_gen2_service.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CubeADCS Gen2 Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_operations_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operations Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_pm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance monitor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Connectivity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Connectivity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_eth.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethernet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/src-docs/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference_docs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference documents
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../change_history.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change history
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contacts
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Attitude and Orbit Control</h1>

<h2 id="overview">Overview</h2>
<p><strong>Attitude and Orbit Control</strong> of the satellite is performed in the following basic use cases:</p>
<ul>
<li>Some scheduled payload has specific orientation requirements</li>
<li>The system needs to go to a safe pointing state, e.g. at nadir</li>
<li>Tumbling is detected and automatic detumbling needs to be performed</li>
<li>The mission operator needs to change the satellite's orientation</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This chapter assumes that the reader is already familiar with the <a href="devguide_conops.html">Concept of Operations</a> and handling of <a href="devguide_user_payloads.html">User Payloads</a>.
If this is not the case, the reader is strongly advised to read these chapters first.</p>
</div>
<p>The diagram below describes the major participants in the Attitude and Orbit Control of the satellite.
<center><a class="glightbox" href="../assets/plantuml/img/attitude_and_orbit_control_mechanism.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="attitude_and_orbit_control_mechanism" src="../assets/plantuml/img/attitude_and_orbit_control_mechanism.svg" /></a></center></p>
<ul>
<li>
<p><code>payload_scheduler</code> <em>(espf/core/services/payload_scheduler)</em></p>
<ul>
<li>The Payload Scheduler is responsible for passing the pointing requirements of the payload to the <abbr title="Concept of Operations">ConOps</abbr>. These requirements include control and estimation modes (combined in the single <abbr title="Attitude and Orbit Control System">AOCS</abbr> state identifier) as well as optional parameters like coordinates (typically geocentric), roll/pitch/yaw angles, etc.</li>
</ul>
</li>
<li>
<p><code>conops</code> <em>(espf/app/conops)</em></p>
<ul>
<li>The <abbr title="Concept of Operations">ConOps</abbr> is responsible for triggering the payload controller and at the same time passing the pointing requirements.</li>
</ul>
</li>
<li>
<p><code>payload_ctrl</code> <em>(espf/core/services/payload_ctrl)</em></p>
<ul>
<li>The <strong>Payload Controller</strong> is responsible for requesting <abbr title="Attitude and Orbit Control System">AOCS</abbr> state with pointing parameters from the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service. The payload controller also monitors the completion status of the request so that it can proceed with payload activation when the pointing requirements for the payload are satisfied.</li>
</ul>
</li>
<li>
<p><code>aocs_cntrl</code> <em>(espf/core/services/aocs/aocs_cntrl)</em></p>
<ul>
<li>The <abbr title="Attitude and Orbit Control System">AOCS</abbr> service provides a centralized way of controlling the operation mode of the satellite’s <abbr title="Attitude Determination and Control System">ADCS</abbr> module. The user is given a simple interface which abstracts the specifics of the underlying <abbr title="Attitude Determination and Control System">ADCS</abbr> thus enabling the uniform use of <abbr title="Attitude Determination and Control System">ADCS</abbr> modules with different interfaces. </li>
<li>
<p>Main functions of the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service are:</p>
<ul>
<li>Managing requests for new operation modes of the <abbr title="Attitude Determination and Control System">ADCS</abbr></li>
<li>Providing interfaces to read/update the commissioning status of the satellite</li>
<li>Providing translation of the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state to specific sub-modes (control, estimation, etc.) of the underlying <abbr title="Attitude Determination and Control System">ADCS</abbr> module</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>es_adcs</code> <em>(espf/core/services/es_adcs)</em></p>
<ul>
<li>The EnduroSat <abbr title="Attitude Determination and Control System">ADCS</abbr> service is responsible for issuing commands to and providing status information about the <a href="devguide_es_adcs.html">EnduroSat <abbr title="Attitude Determination and Control System">ADCS</abbr></a> module.</li>
</ul>
</li>
<li>
<p><code>cubeadcs</code> <em>(espf/arch/stm32h753iit/drivers/positioning/libcubeadcs)</em></p>
<ul>
<li>The CubeADCS driver is responsible for issuing commands to and providing status information about the CubeADCS Gen1 module supplied by CubeSpace.</li>
</ul>
</li>
<li>
<p><code>cubeadcs_gen2</code> <em>(espf/core/services/aocs/cubeadcs_gen2)</em></p>
<ul>
<li>The CubeADCS Gen2 service developed by EnduroSat is responsible for managing mode transitions of the CubeADCS Gen2 module supplied by CubeSpace. It also offers download functionality for event logs of the <abbr title="Attitude Determination and Control System">ADCS</abbr>. </li>
</ul>
</li>
<li>
<p><code>libcubeobc</code> <em>(espf/core/middlewares/external/libcubeobc)</em></p>
<ul>
<li>The CubeObc driver library developed by CubeSpace provides interfaces for issuing commands to and providing status information about the CubeADCS Gen2 module.</li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Operation and integration details for each specific <abbr title="Attitude Determination and Control System">ADCS</abbr> driver/service are provided in its implementation headers (for EnduroSat components) or reference documentation (for 3<sup>rd</sup> party components).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, <abbr title="Attitude and Orbit Control System">AOCS</abbr> service cannot interface with multiple <abbr title="Attitude Determination and Control System">ADCS</abbr> modules at the same time.</p>
</div>
<h2 id="general-sequence">General sequence</h2>
<p>The diagram below shows the general sequence of <abbr title="Application Programming Interface">API</abbr> calls between the components involved in the attitude and orbit control.</p>
<p><center><a class="glightbox" href="../assets/plantuml/img/attitude_and_orbit_control_seq.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="attitude_and_orbit_control_seq" src="../assets/plantuml/img/attitude_and_orbit_control_seq.svg" /></a></center>
The <code>aocs_client</code> in the diagram may be one of the following:</p>
<ul>
<li><strong>Payload Controller</strong> preparing for activation of a payload</li>
<li><strong>Mission Operator</strong> issuing commands from <abbr title="Ground Station">GS</abbr></li>
<li><strong><abbr title="Concept of Operations">ConOps</abbr></strong> reacting to detected tumbling or safe state conditions</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may wonder why <a href="devguide_datacache.html">DataCache</a> is used to store the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state requests. This is done for two purposes:</p>
<ul>
<li>To use the built-in concurrent data access protection of the DataCache</li>
<li>To allow easier testing of the <abbr title="Attitude and Orbit Control System">AOCS</abbr> functionality by using the DataCache <abbr title="Franca Interface Definition Language">FIDL</abbr></li>
</ul>
</div>
<h2 id="aocs-state"><abbr title="Attitude and Orbit Control System">AOCS</abbr> state</h2>
<p>To support different <abbr title="Attitude Determination and Control System">ADCS</abbr> modules, the <abbr title="Attitude and Orbit Control System">AOCS</abbr> abstracts the specifics of control and estimation algorithms of the <abbr title="Attitude Determination and Control System">ADCS</abbr> behind a single identifier called <abbr title="Attitude and Orbit Control System">AOCS</abbr> state. This state translates to a combination of control and estimation algorithms for each type of <abbr title="Attitude Determination and Control System">ADCS</abbr>. Depending on the specific <abbr title="Attitude Determination and Control System">ADCS</abbr> module, the mapping between <abbr title="Attitude and Orbit Control System">AOCS</abbr> state and <abbr title="Attitude Determination and Control System">ADCS</abbr> algorithms is either hard-coded or configurable in <abbr title="Non-volatile memory (e.g. such as FLASH ROM, EEPROM, FRAM)">NVM</abbr>.
The <abbr title="Attitude and Orbit Control System">AOCS</abbr> state can be one of the following:</p>
<h3 id="undefined">UNDEFINED</h3>
<p>On <abbr title="On-board Computer">OBC</abbr> startup the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service requests information from the <abbr title="Attitude Determination and Control System">ADCS</abbr> module whether there is an active control mode. Until the response is received <abbr title="Attitude and Orbit Control System">AOCS</abbr> state shall be set to Undefined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This state cannot be requested by the user. It can only be reported by the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service.</p>
</div>
<h3 id="existing_control">EXISTING_CONTROL</h3>
<p>The <abbr title="Attitude and Orbit Control System">AOCS</abbr> service has determined that the <abbr title="Attitude Determination and Control System">ADCS</abbr> module is running some control algorithm. This state should be considered by the mission operator when commanding a new control mode via a new <abbr title="Attitude and Orbit Control System">AOCS</abbr> state.
Existing control detection occurs in the unlikely case that the <abbr title="On-board Computer">OBC</abbr> undergoes a reset while the <abbr title="Attitude Determination and Control System">ADCS</abbr> keeps running and retains its last commanded control mode.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This state cannot be requested by the user. It can only be reported by the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service.</p>
</div>
<h3 id="no_control">NO_CONTROL</h3>
<p>This state is automatically set when the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service has determined that the <abbr title="Attitude Determination and Control System">ADCS</abbr> module is not running any control algorithm. In addition, this state can be requested by the user when they want to disable the current control algorithm currently run by the <abbr title="Attitude Determination and Control System">ADCS</abbr> module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While there is no control algorithm running, there is always an active estimator used to provide information on angular velocity.</p>
</div>
<h3 id="normal_detumbling">NORMAL_DETUMBLING</h3>
<h3 id="y_thomson_spin">Y_THOMSON_SPIN</h3>
<h3 id="y_thomson_spin_with_mems_rate">Y_THOMSON_SPIN_WITH_MEMS_RATE</h3>
<h3 id="fast_detumbling">FAST_DETUMBLING</h3>
<h3 id="very_fast_detumbling">VERY_FAST_DETUMBLING</h3>
<h3 id="y_momentum">Y_MOMENTUM</h3>
<h3 id="y_momentum_full_state_ekf">Y_MOMENTUM_FULL_STATE_EKF</h3>
<h3 id="three_axis_control">THREE_AXIS_CONTROL</h3>
<h3 id="sun_tracking">SUN_TRACKING</h3>
<h3 id="target_tracking">TARGET_TRACKING</h3>
<h3 id="user_13">USER_1..3</h3>
<p>In case the preconfigured <abbr title="Attitude and Orbit Control System">AOCS</abbr> states do not match fully the mission requirements, the user is allowed to define up to 3 configurations of their own. </p>
<div class="admonition warn">
<p class="admonition-title">Warn</p>
<p>It is not advisable to modify the non-user <abbr title="Attitude and Orbit Control System">AOCS</abbr> state configurations, be they hardcoded or in <abbr title="Non-volatile memory (e.g. such as FLASH ROM, EEPROM, FRAM)">NVM</abbr>. EnduroSat cannot guarantee proper <abbr title="Attitude and Orbit Control System">AOCS</abbr> control if this is done.</p>
</div>
<h2 id="requesting-aocs-state">Requesting <abbr title="Attitude and Orbit Control System">AOCS</abbr> state</h2>
<p><abbr title="Attitude Determination and Control System">ADCS</abbr> modules are rarely able to change control and estimation algorithms and their parameters immediately. By extension, the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state cannot be simply set, but has to be requested and the user is advised to monitor the status of the request.
In code, the interface <strong>aocs_cntrl_request_aocs_state</strong> can be used. It is also possible to request the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state from the <abbr title="Ground Station">GS</abbr> via the <abbr title="Franca Interface Definition Language">FIDL</abbr> interface method <strong>OBC_AOCS_CNTRL::setAocsState</strong>.
Status of the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state request can be monitored via the interfaces aocs_cntrl_get_aocs_state (in C code) and <strong>OBC_AOCS_CNTRL::getAocsState</strong> (in <abbr title="Franca Interface Definition Language">FIDL</abbr>).
Possible states of the request are:</p>
<ul>
<li>COMPLETED – the underlying <abbr title="Attitude Determination and Control System">ADCS</abbr> module has successfully finished applying the requested change in control and/or estimation modes.</li>
<li>NEW – the change has been requested from the <abbr title="Attitude and Orbit Control System">AOCS</abbr> service, but the <abbr title="Attitude Determination and Control System">ADCS</abbr> module has not started processing it yet.</li>
<li>IN_PROGRESS – the <abbr title="Attitude Determination and Control System">ADCS</abbr> module is still processing the request.</li>
<li>FAILED – the <abbr title="Attitude Determination and Control System">ADCS</abbr> module has failed to process the request.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>OBC_AOCS_CNTRL.fidl can be found at <em>espf/core/fidl/obc</em>.</p>
</div>
<h2 id="limitations">Limitations</h2>
<div class="admonition warn">
<p class="admonition-title">Warn</p>
<p>Since DataCache doesn't offer queue functionality, requests to change the <abbr title="Attitude and Orbit Control System">AOCS</abbr> state cannot be queued. If the <abbr title="Attitude and Orbit Control System">AOCS</abbr> is still processing a request, any new requests will be rejected. Calls to <strong>aocs_cntrl_request_aocs_state</strong> will return error status BUSY.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="footer.title">
      
        
        <a href="devguide_user_payloads.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: User Payloads" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              User Payloads
            </div>
          </div>
        </a>
      
      
        
        <a href="devguide_payload_scheduler.html" class="md-footer__link md-footer__link--next" aria-label="Next: Payload Scheduler" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Payload Scheduler
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <i>Privileged and confidential</i>
          </div>
        
      </div>
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.linkedin.com/company/endurosat/" target="_blank" rel="noopener" title="EnduroSat on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "search.suggest", "search.highlight", "search.share", "navigation.tabs", "navigation.top", "toc.integrate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    


    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>