
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://endurosat.com/devguide/devguide_cubeadcs_gen2_service.html">
      
      
        <link rel="prev" href="devguide_payload_scheduler.html">
      
      
        <link rel="next" href="devguide_operations_guide.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>CubeADCS Gen2 Service - EnduroSat On-Board Computer SDK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#interfaces" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-header__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EnduroSat On-Board Computer SDK Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CubeADCS Gen2 Service
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
    
  
  Quick-start Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="hldesign.html" class="md-tabs__link">
          
  
  Developer's Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../assets/src-docs/index.html" class="md-tabs__link">
        
  
    
  
  Code Reference

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../reference_docs.html" class="md-tabs__link">
        
  
    
  
  Reference documents

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../change_history.html" class="md-tabs__link">
        
  
    
  
  Change history

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../contacts.html" class="md-tabs__link">
        
  
    
  
  Contacts

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="EnduroSat On-Board Computer SDK Documentation" class="md-nav__button md-logo" aria-label="EnduroSat On-Board Computer SDK Documentation" data-md-component="logo">
      
  <img src="../EnduroSat_horLogo_symbol@2x-min.png" alt="logo">

    </a>
    EnduroSat On-Board Computer SDK Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick-start Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer's Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hldesign.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High-Level Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_dirstructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Directory structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_cmake.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OBC configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            OBC configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_buildcfg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build-time configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_sysconfig.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run-time configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development recipes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Development recipes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_newcomp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the SDK with new components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_esps_cmd_extend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the set of OBC supported commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_fwupd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootloader and firmware updates handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_debugtrace.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug and trace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_assertions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assertions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_datacache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_telemetry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telemetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_micropython.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MicroPython
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_es_adcs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EnduroSat ADCS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_10" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5_10" id="__nav_3_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5_10">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_conops.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concept of Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_user_payloads.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Payloads
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_aocs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attitude and Orbit Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_payload_scheduler.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payload Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    CubeADCS Gen2 Service
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="devguide_cubeadcs_gen2_service.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    CubeADCS Gen2 Service
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      Interfaces
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-decomposition" class="md-nav__link">
    <span class="md-ellipsis">
      Software decomposition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-gen2-service-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      The Gen2 Service state machine
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_operations_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operations Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_pm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance monitor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Connectivity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Connectivity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="devguide_eth.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethernet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/src-docs/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference_docs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference documents
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../change_history.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change history
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contacts
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>CubeADCS Gen2 Service</h1>

<p>This section introduces the <strong>CubeADCS Generation 2</strong> integration (also referred to as the <strong>Gen2 Service</strong>) in <strong>EnduroSat's Onboard Computer</strong>.</p>
<h2 id="interfaces">Interfaces</h2>
<p>The <strong>Gen2 Service</strong> makes use of one <abbr title="Function Protocol (a custom command and query protocol for ESPS I)">FP</abbr> interface: <code>&lt;OBC SDK&gt;/espf/core/fidl/obc/fp/OBC_CUBEADCS_GEN2.fidl</code>. Most commands are introduced in this page, along with the related functionality. The rest are documented directly in the interface.</p>
<h2 id="software-decomposition">Software decomposition</h2>
<p>The <strong>Gen2 Service</strong> is a software component put together using several software sub-components each having a dedicated purpose (note that arrows in the diagram depict information exchange):</p>
<p><center><a class="glightbox" href="../assets/plantuml/img/cubeadcs_gen2_components.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Gen2 Service sub-components" src="../assets/plantuml/img/cubeadcs_gen2_components.svg" /></a></center></p>
<h3 id="cubeadcs_gen2_int">cubeadcs_gen2_int</h3>
<p>This sub-component is the interface adapter between the <a href="devguide_aocs.html"><abbr title="Attitude and Orbit Control System">AOCS</abbr> control service</a> and the <strong>Gen2 Service</strong>. It implements the interface provided by the <abbr title="Attitude and Orbit Control System">AOCS</abbr> control service, mitigating the differences between the control service and the used <abbr title="Attitude Determination and Control System">ADCS</abbr>. The integration code is located in <code>&lt;OBC SDK&gt;/espf/config/aocs/aocs_cntrl</code>.</p>
<h3 id="cubeadcs_cp">cubeadcs_cp</h3>
<p>This is the <strong>command protocol</strong> level command implementation dedicated to the Gen2 <abbr title="Attitude Determination and Control System">ADCS</abbr>. It exposes all available telecommand and telemetry commands (as per CubeSpace's documentation) to the user and gives the user the capability to control the CubeCore as well as any sensor or actuator directly.</p>
<p>The <abbr title="Franca Interface Definition Language">FIDL</abbr> files that can be used with this <strong>command protocol</strong> command are located in <code>&lt;OBC SDK&gt;/espf/core/fidl/obc/cp/cubeadcs_gen2</code>.</p>
<p>The fidls can be used with the following configuration in SpaceDev:</p>
<p><center><a class="glightbox" href="../assets/img/cubeadcs_gen2_cp_space_dev_configuration.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="SpaceDev Configuration" src="../assets/img/cubeadcs_gen2_cp_space_dev_configuration.png" /></a></center></p>
<p>where </p>
<ul>
<li>The <strong>Gateway Command</strong> (that is, the <strong>command protocol command</strong>) has to be set to <strong>2000</strong> <abbr title="Decimal">DEC</abbr></li>
<li>The <strong><abbr title="Function Protocol (a custom command and query protocol for ESPS I)">FP</abbr> Header</strong> checkbox must be <strong>checked</strong></li>
<li>The <strong>module address</strong> must be set to the <abbr title="Media Access Control">MAC</abbr> address of the <abbr title="On-board Computer">OBC</abbr> (<strong>51</strong> <abbr title="Decimal">DEC</abbr>)</li>
<li>The <abbr title="EnduroSat Protocol Stack">ESPS</abbr> protocol type must be <strong><abbr title="ESPS I Command Protocol">CP</abbr> - command protocol</strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some of the other fields may vary according to the user's setup.</p>
</div>
<h3 id="cubeadcs_gw">cubeadcs_gw</h3>
<p>This sub-component provides wrappers of the CubeSpace <abbr title="Application Programming Interface">API</abbr> (delivered with the <strong>libcubeobc</strong> library from CubeSpace) that provide protection of concurrent access to the <abbr title="Attitude Determination and Control System">ADCS</abbr> as well as transparency of pass-through setup (refer to CubeSpace's documentation for information on the pass-through). In some rare occasions it could be beneficial to use the CubeSpace <abbr title="Application Programming Interface">API</abbr> with settings different than default, but we generally discourage that. Any usage of the <abbr title="Application Programming Interface">API</abbr> passes through this sub-component. It is located in <code>&lt;OBC SDK&gt;/espf/core/services/aocs/cubeadcs_gen2</code></p>
<h3 id="cubeadcs_gen2_state_machine">cubeadcs_gen2_state_machine</h3>
<p>The Gen2 state machine is at the core of the service (<code>&lt;OBC SDK&gt;/espf/core/services/aocs/cubeadcs_gen2</code>). It is tasked with keeping track of the health status of the <abbr title="Attitude Determination and Control System">ADCS</abbr>, downloading telemetry, checking for critical conditions that may have occured in the <abbr title="Attitude Determination and Control System">ADCS</abbr>, <abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> and changing the control of the <abbr title="Attitude Determination and Control System">ADCS</abbr>. The state machine is <a href="#the-gen2-state-machine">depicted further down</a> the chapter where the different states are discussed in detail.</p>
<h3 id="libcubeobc">libcubeobc</h3>
<p>This library is provided by CubeSpace. It provides the <abbr title="Application Programming Interface">API</abbr> to the <abbr title="Attitude Determination and Control System">ADCS</abbr> including methods for serialisation and deserialisation of data. EnduroSat has integrated the library as part of the <strong>Gen2 Service</strong>. The library is located in <code>&lt;OBC SDK&gt;/espf/core/middlewares/external/libcubeobc</code></p>
<h3 id="es_custom">es_custom</h3>
<p>This is custom logic developed in order to integrate CubeSpace's library. It contains locks, initialisation, deinitialisation functions as well as custom logic for performing file transfers.</p>
<p>The relevant code can be located in <code>&lt;OBC SDK&gt;/espf/espf/arch/stm32h753iit/drivers/positioning/cubeobc</code>.</p>
<h3 id="driver">driver</h3>
<p>This is the low-level driver used to initialise and handle the used interfaces.</p>
<p>The relevant code can be located in <code>&lt;OBC SDK&gt;/espf/espf/arch/stm32h753iit/drivers/positioning/cubeobc</code>.</p>
<h2 id="the-gen2-service-state-machine">The Gen2 Service state machine</h2>
<p>The state machine, with applicable transitions and guards, is depicted in the following figure:</p>
<p><center><a class="glightbox" href="../assets/plantuml/img/cubeadcs_gen2_sm.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Gen2 State Machine" src="../assets/plantuml/img/cubeadcs_gen2_sm.svg" /></a></center></p>
<p>It is a Hirarchical State Machine making use of the HSM engine located in <code>&lt;OBC SDK&gt;/espf/lib/libhsm/</code>. Implementation details are discussed in the <strong>Code Reference</strong> section of the SDK documentation and the code is located in <code>&lt;OBC SDK&gt;/espf/core/services/aocs/cubeadcs_gen2</code>.</p>
<h3 id="backoff-state">Backoff State</h3>
<p>This is the initial state of the state machine. At power-up of the <abbr title="On-board Computer">OBC</abbr>, the state machine is initialised in this state and any reset of the state machine puts the state machine back in this state.</p>
<p>The purpose of the state is two-fold:</p>
<ul>
<li>First, it provides the necessary back-off time of several seconds, necessary for the boot process of the <abbr title="Attitude Determination and Control System">ADCS</abbr>.</li>
<li>Second, once the back-off time has expired, it requests from the <abbr title="Attitude Determination and Control System">ADCS</abbr> any configuration that is essential for its correct operation. The state continues requesting this information until it manages to successfully read it, after which it caches this value. By doing this, <strong>Gen2 Service</strong> confirms that communication with the <abbr title="Attitude Determination and Control System">ADCS</abbr> is possible and it also receives, among other things, the connected nodes map, vital for the operation of <strong><a href="devguide_cubeadcs_gen2_service.html#cubeadcs_cp">cubeadcs_cp</a></strong> sub-component.</li>
</ul>
<h3 id="eventmarkeracquisition-state">EventMarkerAcquisition State</h3>
<p>The Gen2 <abbr title="Attitude Determination and Control System">ADCS</abbr> keeps an internal log of events, each having a different severity level (refer to Gen2's documentation for further details). Some of these events indicate serious reduction in the <abbr title="Attitude Determination and Control System">ADCS</abbr> control capabilities. Therefore, the <strong>Gen2 service</strong> periodically requests the events and analyses these looking for serious failures of the <abbr title="Attitude Determination and Control System">ADCS</abbr>. At each event download cycle, only the events that have occured since the previous download are pulled from the <abbr title="Attitude Determination and Control System">ADCS</abbr>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After the <abbr title="On-board Computer">OBC</abbr> powers-up, the <strong>Gen2 Service</strong> will read the last event that can compromise the <abbr title="Attitude Determination and Control System">ADCS</abbr>, and store this to be used as the reference event for the next time we download events.</p>
</div>
<h3 id="check-state">Check State</h3>
<p>The periodic check performs two tasks. First, it collects important telemetry data and aggregates it into a single <abbr title="Attitude Determination and Control System">ADCS</abbr> operational state (not to be confused with the state machine states). This facilitates mission operations as the full state of the <abbr title="Attitude Determination and Control System">ADCS</abbr> can be read using a single telecommand.</p>
<p>Assuming the <abbr title="Attitude Determination and Control System">ADCS</abbr> is in application mode, the second task of the <strong>Check State</strong> is to collect all the loggable telemetry (loggable in the sense that it is the same telemetry that the <abbr title="Attitude Determination and Control System">ADCS</abbr> is logging to its internal memory) from the <abbr title="Attitude Determination and Control System">ADCS</abbr> and to put it in the <a href="devguide_datacache.html">Data Cache</a>. The benefit of doing this is that this data can now be used directly by the <a href="devguide_telemetry.html">Telemetry and beacons services</a> or by a user defined custom service. This also reduces the need to download telemetry files from the <abbr title="Attitude Determination and Control System">ADCS</abbr>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user can decide to download all loggable telemetry or a subset of it. This is configurable and the configuration is persistent, stored in the <abbr title="Non-volatile memory (e.g. such as FLASH ROM, EEPROM, FRAM)">NVM</abbr>.</p>
</div>
<h4 id="relevant-commands">Relevant commands</h4>
<ul>
<li><code>OBC_CUBEADCS_GEN2.fidl::getOpStatus</code> - used to return the <abbr title="Attitude Determination and Control System">ADCS</abbr> operational state (aggregated important telemetry data)</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::get_tlm_cfg</code> - used to return the loggable telemetry configuration</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::set_tlm_cfg</code> - used to set the loggable telemetry configuration </li>
</ul>
<h3 id="idle-state">Idle State</h3>
<p>This is a do-nothing state. The state machine only listens for events here.</p>
<h3 id="eventdownload-state">EventDownload State</h3>
<p>In this state, the logic will download the events that have occurred since the last execution of the <strong>EventDownload</strong> state and which have a certain severity. The amount of events that will be downloaded at each iteration is limited to <strong>20</strong>. The reasoning is that it is not expected to have many events occuring between two executions of the <strong>EventDownload State</strong>.</p>
<p>If any events were downloaded, then the <strong><a href="devguide_cubeadcs_gen2_service.html#fdir-state"><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</a></strong> will be requested. Before the state is left, the last read event is cached and is used as the marker.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first time this state is executed, the event marker is the one set by the <strong><a href="devguide_cubeadcs_gen2_service.html#eventmarkeracquisition-state">EventMarkerAcquisition</a> State</strong> </p>
</div>
<h3 id="statechange-state">StateChange State</h3>
<p>This state machine state is used to change the <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> described in <a href="devguide_aocs.html">Attitude and Orbit Control</a>. The change follows a sequence of steps, but first, the combination of estimation modes and control mode is verified to be compatible with respect to <strong>Table 6: Valid estimation and control combinations</strong>, p.56 of <strong>CS-DEV.UM.CA-01 CubeADCS User Manual Ver.1.0x.pdf</strong>. If this is not the case the request will return <strong>ERROR</strong>. If the combination is valid, the rest of the <strong>StateChange State</strong> is characterized by sequential identical actions being a <strong>check</strong> action and a <strong>set</strong> action. The two actions are always executed one after the other, up to three times, after which the <strong><a href="devguide_cubeadcs_gen2_service.html#fdir-state"><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</a></strong> is invoked. This is depicted in the following diagram, for one step:</p>
<p><center><a class="glightbox" href="../assets/plantuml/img/statechange_state_sequence.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="StateChange sequence step" src="../assets/plantuml/img/statechange_state_sequence.svg" /></a></center></p>
<p>The sequence of steps is:</p>
<ol>
<li>
<p>Changing the <em>power states</em> (it indicates if a component is powered-on/off) of the <abbr title="Attitude Determination and Control System">ADCS</abbr> external components (actuators and sensors). Each <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> can require different estimators and control mode. This means that a different set of actuators and sensors has to be activated prior to changing the used estimators and controllers. This step makes sure that the required sensors and actuators are active before moving to changing the estimation and control modes. As indicated above, this is done by two consecutive actions:</p>
<ul>
<li>A <strong>check</strong> action, where the currenly set power states are compared to the requested ones. If these match, the current step is considered completed and the the next step is prepared to be executed. If these don't, the <strong>set</strong> action is invoked.</li>
<li>A <strong>set</strong> action where the necessary power states are set</li>
</ul>
</li>
<li>
<p>Next, the service will check if the currently active estimators match the ones from the new request.</p>
</li>
<li>
<p>If these are also valid, the service will perform the same sequence for the control mode.</p>
</li>
<li>
<p>The final step is applying the <strong>reference commands</strong> or <strong>open-loop commands</strong> for the controllers.</p>
</li>
</ol>
<p>In the end, if all of these steps are successful, the <abbr title="Attitude Determination and Control System">ADCS</abbr> will have transitioned to the new <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong>. </p>
<p>All <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> States</strong> for Gen2 are described in the <abbr title="Non-volatile memory (e.g. such as FLASH ROM, EEPROM, FRAM)">NVM</abbr>. When a request for a <strong>StateChange</strong> is received, it is the description in the <abbr title="Non-volatile memory (e.g. such as FLASH ROM, EEPROM, FRAM)">NVM</abbr> that is read and passed to the state change logic. This offers the user the flexibility to modify which sensors/actuators should be active or to create a fully custom <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong>. </p>
<h4 id="relevant-commands_1">Relevant commands</h4>
<ul>
<li><code>OBC_CUBEADCS_GEN2.fidl::reqStateMachineStateChange</code> is used to send a new event to the state machine (see <a href="devguide_cubeadcs_gen2_service.html#the-gen2-service-state-machine">state machine figure</a>). Coupled with the command arguments, the user can instruct the <abbr title="Attitude Determination and Control System">ADCS</abbr> to perform a state change. </li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When a new <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> is requested by the <a href="devguide_aocs.html">Attitude and Orbit Control</a>, the same event is sent to the state machine, but with a different set of arguments</p>
</div>
<ul>
<li><code>OBC_CUBEADCS_GEN2.fidl::get_nvm_system_states_cfg</code> - used to return the <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> configurations for Gen2</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::set_nvm_system_states_cfg</code> - used to set the <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> configurations for Gen2</li>
</ul>
<h3 id="fdir-state"><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</h3>
<p>As the name suggests, this modules performs failure detection, isolation and recovery. In reality, failure detection is performed in one of several <a href="devguide_cubeadcs_gen2_service.html#the-gen2-service-state-machine">other states</a>, but isolation and recovery can be performed by the <strong><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr></strong> state only.</p>
<p>The <strong><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</strong> is activated: </p>
<ul>
<li>When an event has been logged by the <abbr title="Attitude Determination and Control System">ADCS</abbr>, which is an error compromising the control capabilities of the system (this is the incoming transition from <strong><a href="devguide_cubeadcs_gen2_service.html#eventdownload-state">EventDownload State</a></strong>)</li>
<li>When an attempt to switch to a new <strong><abbr title="Attitude and Orbit Control System">AOCS</abbr> State</strong> fails (this is the incoming transition from <strong><a href="devguide_cubeadcs_gen2_service.html#statechange-state">StateChange State</a></strong>)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Information on the exact events that are considered by the <abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> is located in <code>&lt;OBC SDK&gt;/espf/core/services/aocs/cubeadcs_gen2/inc/cubeadcs_gen2_events_types.h</code> and <a href="../assets/src-docs/group__cubeadcs__gen2.html"><strong>Code Reference</strong></a>.</p>
</div>
<p>The last incoming transition is from:</p>
<ul>
<li><strong><a href="devguide_cubeadcs_gen2_service.html#check-state">Check State</a></strong>, but is currently not implemented.</li>
</ul>
<p>The information about the failure is passed to the <strong><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</strong> upon entry. The state itself is organised as a small framework, allowing the user to implement custom handlers per failure or common to all failures. By default, all failures have one of only two handlers attached:</p>
<ul>
<li>A critical error handler - called when the detected failure compromises the control capabilities of the system</li>
<li>A non-critical error handler - called when the detected failure does not compromise the control capabiltiies of the system</li>
</ul>
<p>At current, the handlers are just proto-handlers, as they don't perform any real handling, but just report <strong>failure</strong> to perform recovery. Therefore, <strong>ANY</strong> failure reported by the <abbr title="Attitude Determination and Control System">ADCS</abbr> will be reported by the service as an error <strong>compromising the control capabilities</strong>. The service reports this as a 32-bit value, which is used by the higher level service <a href="devguide_aocs.html">Attitude and Orbit Control</a> to notify the <strong><abbr title="Concept of Operations">ConOps</abbr></strong> logic of a serious <abbr title="Attitude Determination and Control System">ADCS</abbr> problem.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Details on how to configure and extend the <strong><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</strong> can be located in the <a href="../assets/src-docs/group__cubeadcs__gen2.html"><strong>Code Reference</strong></a> section.</p>
</div>
<h4 id="relevant-commands_2">Relevant commands</h4>
<p>There are four commands related to the <strong><abbr title="Failure Detection Isolation and Recovery">FDIR</abbr> State</strong>:</p>
<ul>
<li><code>OBC_CUBEADCS_GEN2.fidl::get_fdir_unrecovarable_errors</code> can be used to read out the 32 bit value, reported by the service</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::clear_fdir_unrecovarable_errors</code> can be used to clear this value</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::get_fdir_stats</code> can be used to read out information regarding the execution of an error handler linked to a specific error</li>
<li><code>OBC_CUBEADCS_GEN2.fidl::clear_fdir_stats</code> can be used to clear this information</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="footer.title">
      
        
        <a href="devguide_payload_scheduler.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Payload Scheduler" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Payload Scheduler
            </div>
          </div>
        </a>
      
      
        
        <a href="devguide_operations_guide.html" class="md-footer__link md-footer__link--next" aria-label="Next: Operations Guide" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Operations Guide
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <i>Privileged and confidential</i>
          </div>
        
      </div>
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.linkedin.com/company/endurosat/" target="_blank" rel="noopener" title="EnduroSat on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "search.suggest", "search.highlight", "search.share", "navigation.tabs", "navigation.top", "toc.integrate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    


    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>