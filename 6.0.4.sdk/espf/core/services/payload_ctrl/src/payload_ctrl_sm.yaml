---
payload_ctrl_sm:
    states:
        - Pointing_Idle:
            transitions:
                - Pointing_InProgress:
                    - { event: "__periodic", guard: "__auto", action: prepare_pointing_mode }
            attributes:
               on_exit: False
        - Pointing_InProgress:
            transitions:
                - Pointing_Finished:
                    - { event: "__periodic", guard: is_point_mode_ready, action: start_payload }
                - Pointing_Idle:
                    - { event: requesting_payload_off }
                - Pointing_Idle:
                    - { event: "__periodic", guard: is_point_mode_failed, action: notify_adcs_timeout }
            attributes:
               on_entry: False
               on_exit: False
        - Pointing_Finished:
           transitions:
              - Pointing_Idle:
                 - { event: requesting_payload_off }
              - Pointing_Finished:
                 - { event: "__periodic", action: serve_additional_payloads }
           attributes:
              on_entry: False
              on_exit: False
    attributes:
        initial: Pointing_Idle
