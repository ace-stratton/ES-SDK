---
conops_sm:
  states:
    - Safe:
        transitions:
          - Detumbling: 
              - { event: "__periodic", guard: "__auto", action: detumb_action }
          - Idle:
              - { event: idle_flag_set, guard: "__auto", action: idle_action }
    - Idle:
        transitions:
          - Safe:
            - { event: "__periodic", guard: "__auto", action: safe_action }
          - Payload:
            - { event: payload_flag_set, guard: "__auto" }
    - Detumbling:
        transitions:
          - Safe:
            - { event: "__periodic", guard: "__auto", action: safe_action }
    - Payload:
        transitions:
          - Idle:
            - { event: payload_flag_cleared, action: idle_action }
          - Safe:
            - { event: "__periodic", guard: "__auto", action: safe_action }
  attributes:
    initial: Safe
