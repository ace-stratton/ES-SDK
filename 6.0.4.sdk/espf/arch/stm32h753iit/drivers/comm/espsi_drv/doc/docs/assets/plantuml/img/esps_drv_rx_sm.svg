<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="804px" preserveAspectRatio="none" style="width:1563px;height:804px;background:#FFFFFF;" version="1.1" viewBox="0 0 1563 804" width="1563px" zoomAndPan="magnify"><defs><filter height="300%" id="f7md5s79pvdfk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="250" x="650.11" y="18.6855">ESPS Driver RX State Machine</text><!--MD5=[b5e599e74168057b1331236d32356d9a]
entity eMACReceive_Off--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="156" x="427.22" y="29.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="563.22" y="34.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="561.22" y="36.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="561.22" y="40.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="442.22" y="64.1738">eMACReceive_Off</text><!--MD5=[ef0a76a188f894fdab3411a231b34f0d]
entity eMACReceive_Idle--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="715.72" y="29.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="854.72" y="34.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="852.72" y="36.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="852.72" y="40.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="730.72" y="64.1738">eMACReceive_Idle</text><!--MD5=[d4b4d447494a1aec0290c2539d014473]
entity eMACReceive_NewMessage--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="220" x="1026.22" y="29.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1226.22" y="34.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1224.22" y="36.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1224.22" y="40.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1041.22" y="64.1738">eMACReceive_NewMessage</text><!--MD5=[b09a110a7355aa3b51490364b7ad340a]
entity eMACReceive_WaitAddress--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="217" x="644.72" y="155.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="841.72" y="160.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="839.72" y="162.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="839.72" y="166.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="659.72" y="190.1738">eMACReceive_WaitAddress</text><!--MD5=[a281d3ca88aee28d34bacf513a2ced85]
entity eMACReceive_ReadHeader--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="217" x="188.72" y="281.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="385.72" y="286.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="383.72" y="288.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="383.72" y="292.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="203.72" y="316.1738">eMACReceive_ReadHeader</text><!--MD5=[5eb43d6c8bd2fd32feb07a2a0b2aef14]
entity eMACReceive_ReadData--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="201" x="625.72" y="407.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="806.72" y="412.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="804.72" y="414.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="804.72" y="418.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="640.72" y="442.1738">eMACReceive_ReadData</text><!--MD5=[fa7e7965b7bc4374a8cb56c64a42ee19]
entity eMACReceive_ReadCRC--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="201" x="764.72" y="533.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="945.72" y="538.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="943.72" y="540.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="943.72" y="544.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="779.72" y="568.1738">eMACReceive_ReadCRC</text><!--MD5=[17f29aa34ccead76bcca8a1e46f9056d]
entity eMACReceive_DispatchMessage--><rect fill="#FEFECE" filter="url(#f7md5s79pvdfk)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="249" x="1177.72" y="533.6406"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1406.72" y="538.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1404.72" y="540.6406"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1404.72" y="544.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="1192.72" y="568.1738">eMACReceive_DispatchMessage</text><!--MD5=[b40ceaaab6d8057cf2a1425535eefb34]
link eMACReceive_Off to eMACReceive_Idle--><path d="M583.31,53.6406 C622.49,53.6406 670.01,53.6406 710.11,53.6406 " fill="none" id="eMACReceive_Off-to-eMACReceive_Idle" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="715.46,53.6406,706.46,49.6406,710.46,53.6406,706.46,57.6406,715.46,53.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="601.47" y="47.1357">fs_vInitInterface()</text><!--MD5=[25628e436f2205ed1132152664cd8412]
link eMACReceive_Idle to eMACReceive_NewMessage--><path d="M874.73,53.6406 C918.22,53.6406 972.87,53.6406 1020.95,53.6406 " fill="none" id="eMACReceive_Idle-to-eMACReceive_NewMessage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1026.17,53.6406,1017.17,49.6406,1021.17,53.6406,1017.17,57.6406,1026.17,53.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="892.97" y="47.1357">eRXEvent_Activated</text><!--MD5=[ebf946b9a6bdfcacd987384c61f26306]
link eMACReceive_NewMessage to eMACReceive_WaitAddress--><path d="M1065.07,77.6706 C998,99.3906 897.79,131.8306 829.18,154.0406 " fill="none" id="eMACReceive_NewMessage-to-eMACReceive_WaitAddress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="824.3,155.6306,834.095,156.659,829.0561,154.0881,831.627,149.0492,824.3,155.6306" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="968.22" y="122.1357">eRXEvent_NewMessage</text><!--MD5=[297ec7b4c239f326591ca3c36098355c]
link eMACReceive_NewMessage to eMACReceive_NewMessage--><path d="M1246.23,42.6106 C1266.76,43.9706 1281.22,47.6506 1281.22,53.6406 C1281.22,59.1206 1269.14,62.6606 1251.38,64.2706 " fill="none" id="eMACReceive_NewMessage-to-eMACReceive_NewMessage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1246.23,64.6706,1255.5124,67.9625,1251.215,64.2839,1254.8936,59.9864,1246.23,64.6706" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="1287.22" y="59.1357">Any other event than eRXEvent_NewMessage</text><!--MD5=[14e5acdcf6225cee0bab11685728f570]
link eMACReceive_WaitAddress to eMACReceive_ReadHeader--><path d="M644.7,198.7106 C602.95,207.1806 555.25,218.7506 513.22,233.6406 C496.35,239.6106 493.86,245.0906 477.22,251.6406 C449.99,262.3606 419.72,272.0806 391.88,280.1806 " fill="none" id="eMACReceive_WaitAddress-to-eMACReceive_ReadHeader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="387.08,281.5706,396.8363,282.9174,391.8838,280.1838,394.6174,275.2313,387.08,281.5706" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="514.22" y="248.1357">eRXEvent_AddressReceived</text><!--MD5=[c3a5359b89e19cdc4d590b8ef50823c1]
link eMACReceive_ReadHeader to eMACReceive_WaitAddress--><path d="M188.61,303.5806 C103.29,299.0806 6,283.4906 52.22,233.6406 C91.22,191.5806 450.95,182.7106 639.33,180.9706 " fill="none" id="eMACReceive_ReadHeader-to-eMACReceive_WaitAddress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="644.58,180.9206,635.546,176.9979,639.5802,180.9635,635.6146,184.9976,644.58,180.9206" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="53.22" y="248.1357">eRXEvent_ReceptionComplete + INVALID CRC</text><!--MD5=[c3a5359b89e19cdc4d590b8ef50823c1]
link eMACReceive_ReadHeader to eMACReceive_WaitAddress--><path d="M312.81,281.4906 C325.06,265.2906 343.62,244.6506 365.22,233.6406 C411.78,209.9106 542.36,195.5606 639.25,187.8906 " fill="none" id="eMACReceive_ReadHeader-to-eMACReceive_WaitAddress-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="644.42,187.4906,635.1383,184.1967,639.4349,187.8763,635.7553,192.1729,644.42,187.4906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="366.22" y="248.1357">eRXEvent_RxError</text><!--MD5=[d9e59fd0ba3d4a00b471328268f625df]
link eMACReceive_WaitAddress to eMACReceive_WaitAddress--><path d="M861.78,174.1206 C882.26,174.7906 896.72,176.6306 896.72,179.6406 C896.72,182.3906 884.64,184.1706 866.93,184.9706 " fill="none" id="eMACReceive_WaitAddress-to-eMACReceive_WaitAddress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="861.78,185.1606,870.9327,188.7977,866.776,184.9608,870.6129,180.8041,861.78,185.1606" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="902.72" y="185.1357">eRXEvent_TxOpStarted</text><!--MD5=[d9e59fd0ba3d4a00b471328268f625df]
link eMACReceive_WaitAddress to eMACReceive_WaitAddress--><path d="M862.07,169.0406 C946.59,166.0606 1043.72,169.5906 1043.72,179.6406 C1043.72,189.4706 950.72,193.0706 867.53,190.4206 " fill="none" id="eMACReceive_WaitAddress-to-eMACReceive_WaitAddress-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="862.07,190.2406,870.9277,194.5467,867.0671,190.412,871.2018,186.5514,862.07,190.2406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1049.72" y="185.1357">eRXEvent_TxOpFinished</text><!--MD5=[a00ce05f3aae7f03cf213bace1b92820]
link eMACReceive_ReadHeader to eMACReceive_ReadData--><path d="M256.61,329.8006 C237.21,343.7506 221,361.8106 235.22,377.6406 C260.45,405.7506 483.63,420.2706 620.26,426.6006 " fill="none" id="eMACReceive_ReadHeader-to-eMACReceive_ReadData" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="625.49,426.8406,616.6821,422.4338,620.4952,426.6123,616.3167,430.4255,625.49,426.8406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="236.22" y="374.1357">eRXEvent_ReceptionComplete + VALID CRC</text><!--MD5=[dd4939c4772141a339729161d8968cfa]
link eMACReceive_ReadData to eMACReceive_ReadHeader--><path d="M629.85,407.6006 C599.49,399.3306 566.09,389.1506 536.22,377.6406 C519.52,371.2106 516.96,365.9306 500.22,359.6406 C470.6,348.5106 437.72,338.8306 407.19,330.9006 " fill="none" id="eMACReceive_ReadData-to-eMACReceive_ReadHeader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="402.31,329.6406,410.0162,335.7736,407.1496,330.8969,412.0263,328.0303,402.31,329.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="537.22" y="374.1357">eRXEvent_AddressReceived</text><!--MD5=[52e4a1dc8127ca6d7f5fb6ac123cec30]
link eMACReceive_ReadHeader to eMACReceive_ReadHeader--><path d="M405.78,294.5906 C426.26,295.9306 440.72,299.6206 440.72,305.6406 C440.72,311.1506 428.64,314.7006 410.93,316.2906 " fill="none" id="eMACReceive_ReadHeader-to-eMACReceive_ReadHeader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="405.78,316.6906,415.0617,319.9845,410.7651,316.305,414.4447,312.0083,405.78,316.6906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="446.72" y="311.1357">eRXEvent_AddressReceived</text><!--MD5=[d430641ad5a2bef1bdf03c454d24e39d]
link eMACReceive_ReadData to eMACReceive_ReadCRC--><path d="M745.3,455.8506 C757.69,470.3006 774.59,488.8906 791.22,503.6406 C801.85,513.0706 814.15,522.4206 825.63,530.5806 " fill="none" id="eMACReceive_ReadData-to-eMACReceive_ReadCRC" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="829.81,533.5306,824.7466,525.083,825.7192,530.6556,820.1466,531.6283,829.81,533.5306" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="792.22" y="500.1357">eRXEvent_ReceptionComplete</text><!--MD5=[c65ce8adb48fbaf68880605e1e12d925]
link eMACReceive_ReadData to eMACReceive_WaitAddress--><path d="M725.43,407.5606 C724.76,378.1806 724.63,325.9306 730.22,281.6406 C733.37,256.6406 739.96,228.7506 745.28,208.6206 " fill="none" id="eMACReceive_ReadData-to-eMACReceive_WaitAddress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="746.6,203.6806,740.3978,211.3313,745.3001,208.5087,748.1227,213.4111,746.6,203.6806" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="731.22" y="311.1357">eRXEvent_WaitTimeout</text><!--MD5=[c65ce8adb48fbaf68880605e1e12d925]
link eMACReceive_ReadData to eMACReceive_WaitAddress--><path d="M782.49,407.5806 C814.79,391.0706 852.54,365.4006 871.22,329.6406 C896.1,281.9906 841.53,234.6506 798.55,206.5206 " fill="none" id="eMACReceive_ReadData-to-eMACReceive_WaitAddress-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="794.17,203.6906,799.5578,211.9351,798.3694,206.4045,803.9,205.2161,794.17,203.6906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="878.22" y="311.1357">eRXEvent_RxError</text><!--MD5=[beeeeb3f45cfa6b0c51c73469f6dc0b9]
link eMACReceive_ReadCRC to eMACReceive_DispatchMessage--><path d="M965.75,557.6406 C1027.15,557.6406 1106.31,557.6406 1172.42,557.6406 " fill="none" id="eMACReceive_ReadCRC-to-eMACReceive_DispatchMessage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1177.56,557.6406,1168.56,553.6406,1172.56,557.6406,1168.56,561.6406,1177.56,557.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="984.22" y="551.1357">eRXEvent_ReceptionComplete</text><!--MD5=[bd100f6d4b97bb6729bb14653ec44fa2]
link eMACReceive_ReadCRC to eMACReceive_WaitAddress--><path d="M936.86,533.5106 C950.51,526.0106 963.3,516.2506 972.22,503.6406 C977.84,495.6906 992.63,339.3606 993.22,329.6406 C994.5,308.3506 1005.02,299.4106 993.22,281.6406 C964.74,238.7706 914.14,214.0606 866.71,199.8306 " fill="none" id="eMACReceive_ReadCRC-to-eMACReceive_WaitAddress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="861.83,198.4006,869.35,204.7606,866.63,199.8006,871.59,197.0806,861.83,198.4006" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="991.22" y="374.1357">eRXEvent_WaitTimeout</text><!--MD5=[bd100f6d4b97bb6729bb14653ec44fa2]
link eMACReceive_ReadCRC to eMACReceive_WaitAddress--><path d="M953.6,533.6006 C1046.29,504.3606 1173.26,446.9706 1132.22,359.6406 C1085.24,259.6806 960.73,215.3306 867.15,195.7806 " fill="none" id="eMACReceive_ReadCRC-to-eMACReceive_WaitAddress-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="862.16,194.7606,870.1624,200.5019,867.0562,195.7741,871.784,192.668,862.16,194.7606" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1138.22" y="374.1357">eRXEvent_RxError</text><!--MD5=[9236b77c69abcfadf48b0a52deb22013]
link eMACReceive_ReadCRC to eMACReceive_ReadHeader--><path d="M764.57,544.0006 C599.92,520.9506 284.94,466.1606 222.22,377.6406 C210.36,360.9106 224.06,344.9606 242.85,332.4306 " fill="none" id="eMACReceive_ReadCRC-to-eMACReceive_ReadHeader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="247.19,329.6506,237.4541,331.1377,242.9799,332.3479,241.7697,337.8738,247.19,329.6506" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="356.22" y="437.1357">eRXEvent_AddressReceived</text><!--MD5=[9c13a4619148143efb68941605a21a2b]
link eMACReceive_DispatchMessage to eMACReceive_NewMessage--><path d="M1302.22,533.3306 C1302.22,508.4106 1302.22,467.7306 1302.22,432.6406 C1302.22,178.6406 1302.22,178.6406 1302.22,178.6406 C1302.22,130.7406 1257.31,99.1306 1214.21,79.8106 " fill="none" id="eMACReceive_DispatchMessage-to-eMACReceive_NewMessage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1209.51,77.7506,1216.1414,85.0324,1214.0878,79.7615,1219.3588,77.7078,1209.51,77.7506" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1303.22" y="311.1357">eRXEvent_MessageDispatched</text><rect fill="#DDDDDD" height="186.0938" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="594" x="947.22" y="602.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="953.22" y="621.7832">- eRXEvent_None: After a transition is complete</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="953.22" y="639.3926">- eRXEvent_Activated: After initialization of the UART or processing IDLE State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="406" x="953.22" y="657.002">- eRXEvent_NewMessage: When processing New Message state</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="953.22" y="674.6113">- eRXEvent_WaitTimeout: When RX timer expires</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="953.22" y="692.2207">- eRXEvent_AddressReceived: UART received a valid address</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="382" x="953.22" y="709.8301">- eRXEvent_ReceptionComplete: UART received a valid byte</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="537" x="953.22" y="727.4395">- eRXEvent_MessageDispatched: RX memory pool is free, the message is dispatched</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="953.22" y="745.0488">- eRXEvent_TxOpStarted: A transfer started</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="582" x="953.22" y="762.6582">- eRXEvent_TxOpFinished: A transfer finished either successfully or due to an error in UART</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402" x="953.22" y="780.2676">- eRXEvent_RxError: Error detected in the UART while receiving</text><!--MD5=[9ccd278391a8b88e8e27a005dbbfe497]
@startuml

title ESPS Driver RX State Machine

' List of states
[eMACReceive_Off]
[eMACReceive_Idle]
[eMACReceive_NewMessage]
[eMACReceive_WaitAddress]
[eMACReceive_ReadHeader]
[eMACReceive_ReadData]
[eMACReceive_ReadCRC]
[eMACReceive_DispatchMessage]

legend right
- eRXEvent_None: After a transition is complete
- eRXEvent_Activated: After initialization of the UART or processing IDLE State
- eRXEvent_NewMessage: When processing New Message state
- eRXEvent_WaitTimeout: When RX timer expires
- eRXEvent_AddressReceived: UART received a valid address
- eRXEvent_ReceptionComplete: UART received a valid byte
- eRXEvent_MessageDispatched: RX memory pool is free, the message is dispatched
- eRXEvent_TxOpStarted: A transfer started
- eRXEvent_TxOpFinished: A transfer finished either successfully or due to an error in UART
- eRXEvent_RxError: Error detected in the UART while receiving
endlegend

[eMACReceive_Off]           -> [eMACReceive_Idle]          : fs_vInitInterface()

[eMACReceive_Idle]          -> [eMACReceive_NewMessage]    : eRXEvent_Activated

[eMACReceive_NewMessage]    - -> [eMACReceive_WaitAddress]   : eRXEvent_NewMessage
[eMACReceive_NewMessage]    - -> [eMACReceive_NewMessage]    : Any other event than eRXEvent_NewMessage

[eMACReceive_WaitAddress]   - -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_WaitAddress]   - -> [eMACReceive_WaitAddress]   : eRXEvent_TxOpStarted
[eMACReceive_WaitAddress]   - -> [eMACReceive_WaitAddress]   : eRXEvent_TxOpFinished

[eMACReceive_ReadHeader]    -> [eMACReceive_ReadData]      : eRXEvent_ReceptionComplete + VALID CRC
[eMACReceive_ReadHeader]    -> [eMACReceive_WaitAddress]   : eRXEvent_ReceptionComplete + INVALID CRC
[eMACReceive_ReadHeader]    -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_ReadHeader]    -> [eMACReceive_WaitAddress]   : eRXEvent_RxError

[eMACReceive_ReadData]      - -> [eMACReceive_ReadCRC]       : eRXEvent_ReceptionComplete
[eMACReceive_ReadData]      - -> [eMACReceive_WaitAddress]   : eRXEvent_WaitTimeout
[eMACReceive_ReadData]      - -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_ReadData]      - -> [eMACReceive_WaitAddress]   : eRXEvent_RxError

[eMACReceive_ReadCRC]       -> [eMACReceive_DispatchMessage] : eRXEvent_ReceptionComplete
[eMACReceive_ReadCRC]       -> [eMACReceive_WaitAddress]     : eRXEvent_WaitTimeout
[eMACReceive_ReadCRC]       -> [eMACReceive_ReadHeader]      : eRXEvent_AddressReceived
[eMACReceive_ReadCRC]       -> [eMACReceive_WaitAddress]     : eRXEvent_RxError

[eMACReceive_DispatchMessage] - -> [eMACReceive_NewMessage]  : eRXEvent_MessageDispatched

@enduml

@startuml

title ESPS Driver RX State Machine

[eMACReceive_Off]
[eMACReceive_Idle]
[eMACReceive_NewMessage]
[eMACReceive_WaitAddress]
[eMACReceive_ReadHeader]
[eMACReceive_ReadData]
[eMACReceive_ReadCRC]
[eMACReceive_DispatchMessage]

legend right
- eRXEvent_None: After a transition is complete
- eRXEvent_Activated: After initialization of the UART or processing IDLE State
- eRXEvent_NewMessage: When processing New Message state
- eRXEvent_WaitTimeout: When RX timer expires
- eRXEvent_AddressReceived: UART received a valid address
- eRXEvent_ReceptionComplete: UART received a valid byte
- eRXEvent_MessageDispatched: RX memory pool is free, the message is dispatched
- eRXEvent_TxOpStarted: A transfer started
- eRXEvent_TxOpFinished: A transfer finished either successfully or due to an error in UART
- eRXEvent_RxError: Error detected in the UART while receiving
endlegend

[eMACReceive_Off]           -> [eMACReceive_Idle]          : fs_vInitInterface()

[eMACReceive_Idle]          -> [eMACReceive_NewMessage]    : eRXEvent_Activated

[eMACReceive_NewMessage]    - -> [eMACReceive_WaitAddress]   : eRXEvent_NewMessage
[eMACReceive_NewMessage]    - -> [eMACReceive_NewMessage]    : Any other event than eRXEvent_NewMessage

[eMACReceive_WaitAddress]   - -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_WaitAddress]   - -> [eMACReceive_WaitAddress]   : eRXEvent_TxOpStarted
[eMACReceive_WaitAddress]   - -> [eMACReceive_WaitAddress]   : eRXEvent_TxOpFinished

[eMACReceive_ReadHeader]    -> [eMACReceive_ReadData]      : eRXEvent_ReceptionComplete + VALID CRC
[eMACReceive_ReadHeader]    -> [eMACReceive_WaitAddress]   : eRXEvent_ReceptionComplete + INVALID CRC
[eMACReceive_ReadHeader]    -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_ReadHeader]    -> [eMACReceive_WaitAddress]   : eRXEvent_RxError

[eMACReceive_ReadData]      - -> [eMACReceive_ReadCRC]       : eRXEvent_ReceptionComplete
[eMACReceive_ReadData]      - -> [eMACReceive_WaitAddress]   : eRXEvent_WaitTimeout
[eMACReceive_ReadData]      - -> [eMACReceive_ReadHeader]    : eRXEvent_AddressReceived
[eMACReceive_ReadData]      - -> [eMACReceive_WaitAddress]   : eRXEvent_RxError

[eMACReceive_ReadCRC]       -> [eMACReceive_DispatchMessage] : eRXEvent_ReceptionComplete
[eMACReceive_ReadCRC]       -> [eMACReceive_WaitAddress]     : eRXEvent_WaitTimeout
[eMACReceive_ReadCRC]       -> [eMACReceive_ReadHeader]      : eRXEvent_AddressReceived
[eMACReceive_ReadCRC]       -> [eMACReceive_WaitAddress]     : eRXEvent_RxError

[eMACReceive_DispatchMessage] - -> [eMACReceive_NewMessage]  : eRXEvent_MessageDispatched

@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>